
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://example.com/docs/api/ankaflow/">
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.12">
    
    
      
        <title>AnkaFlow - AnkaFlow Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.2afb09e1.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ankaflow_1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="AnkaFlow Documentation" class="md-header__button md-logo" aria-label="AnkaFlow Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AnkaFlow Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              AnkaFlow
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="AnkaFlow Documentation" class="md-nav__button md-logo" aria-label="AnkaFlow Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    AnkaFlow Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting started
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../readme-browser.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Browser setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../custom-connection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Custom connection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../motherduck/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using with Motherduck
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ducts.models.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pipeline API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ducts.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Duct API
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../demo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Browser demo
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ankaflow" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;ankaflow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ankaflow.__all__" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;__all__
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ankaflow.AsyncFlow" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;AsyncFlow
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" AsyncFlow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.AsyncFlow.log" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;log
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.AsyncFlow.logs" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;logs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.AsyncFlow.connect" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;connect
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.AsyncFlow.df" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;df
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.AsyncFlow.pull_df" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;pull_df
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.AsyncFlow.run" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;run
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.AsyncFlow.show_schema" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;show_schema
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ankaflow.BigQueryConfig" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;BigQueryConfig
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" BigQueryConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.BigQueryConfig.credential_file" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;credential_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.BigQueryConfig.dataset" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;dataset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.BigQueryConfig.project" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;project
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.BigQueryConfig.region" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;region
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ankaflow.BucketConfig" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;BucketConfig
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" BucketConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.BucketConfig.bucket" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;bucket
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.BucketConfig.data_prefix" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;data_prefix
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.BucketConfig.locator_wildcard" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;locator_wildcard
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.BucketConfig.region" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;region
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ankaflow.ClickhouseConfig" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ClickhouseConfig
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" ClickhouseConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.ClickhouseConfig.blocksize" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;blocksize
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ankaflow.ConnectionConfiguration" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ConnectionConfiguration
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" ConnectionConfiguration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.ConnectionConfiguration.bigquery" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;bigquery
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.ConnectionConfiguration.clickhouse" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;clickhouse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.ConnectionConfiguration.gs" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;gs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.ConnectionConfiguration.local" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;local
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.ConnectionConfiguration.s3" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;s3
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ankaflow.Flow" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Flow
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.Flow.df" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;df
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.Flow.pull_df" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;pull_df
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.Flow.show_schema" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;show_schema
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ankaflow.FlowContext" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FlowContext
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ankaflow.FlowControl" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FlowControl
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ankaflow.FlowError" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FlowError
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ankaflow.FlowRunError" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FlowRunError
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ankaflow.GSConfig" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;GSConfig
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" GSConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.GSConfig.credential_file" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;credential_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.GSConfig.hmac_key" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;hmac_key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.GSConfig.hmac_secret" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;hmac_secret
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ankaflow.S3Config" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;S3Config
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" S3Config">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.S3Config.access_key_id" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;access_key_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.S3Config.secret_access_key" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;secret_access_key
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ankaflow.Stages" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Stages
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Stages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.Stages.enumerate_steps" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;enumerate_steps
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.Stages.load" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;load
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.Stages.steps" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;steps
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ankaflow.Variables" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Variables
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ankaflow.api" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;api
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" api">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.api.API" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;API
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.api.API.dt" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;dt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.api.API.error" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.api.API.look" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;look
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.api.API.peek" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;peek
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.api.API.setvariable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;setvariable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.api.API.sqltuple" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;sqltuple
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ankaflow.cli" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;cli
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" cli">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.cli.resolve_yaml_path" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;resolve_yaml_path
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ankaflow.connections" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;connections
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" connections">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.load_connection" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;load_connection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.bigquery" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;bigquery
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" bigquery">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.bigquery.BigQuery" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;BigQuery
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" BigQuery">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.bigquery.BigQuery.create_dataset" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;create_dataset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.bigquery.BigQuery.init" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;init
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.bigquery.BigQuery.locate" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;locate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.bigquery.BigQuery.show_schema" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;show_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.bigquery.BigQuery.sink" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;sink
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.bigquery.BigQuery.sql" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;sql
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.bigquery.BigQuery.tap" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;tap
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.clickhouse" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;clickhouse
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" clickhouse">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.clickhouse.Clickhouse" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Clickhouse
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Clickhouse">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.clickhouse.Clickhouse.init" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;init
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.clickhouse.Clickhouse.locate" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;locate
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.clickhouse.ClickhouseClient" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ClickhouseClient
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" ClickhouseClient">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.clickhouse.ClickhouseClient.connect" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;connect
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.clickhouse.ClickhouseClient.insert_dataframe" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;insert_dataframe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.clickhouse.ClickhouseClient.query_df" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;query_df
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.clickhouse.ClickhouseClient.stream_query" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;stream_query
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.connection" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;connection
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" connection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.connection.Connection" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Connection
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Connection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.connection.Connection.init" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;init
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.connection.Connection.ranking" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;ranking
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.connection.Connection.sink" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;sink
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.connection.Connection.sql" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;sql
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.connection.Connection.tap" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;tap
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.connection.Locator" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Locator
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Locator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.connection.Locator.locate" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;locate
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.connection.Schema" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Schema
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Schema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.connection.Schema.generate" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;generate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.connection.Schema.show" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;show
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.delta" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;delta
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" delta">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.delta.Deltatable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Deltatable
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Deltatable">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.delta.Deltatable.sink" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;sink
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" sink">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.delta.Deltatable.sink--strategy-matrix" class="md-nav__link">
    <span class="md-ellipsis">
      Strategy Matrix:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.delta.Deltatable.sql" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;sql
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.errors" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;errors
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" errors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.connections.errors.ConnectionException" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ConnectionException
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ankaflow.const" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;const
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ankaflow.core" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;core
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" core">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.AsyncFlow" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;AsyncFlow
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" AsyncFlow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.AsyncFlow.log" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;log
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.AsyncFlow.logs" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;logs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.AsyncFlow.connect" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;connect
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.AsyncFlow.df" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;df
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.AsyncFlow.pull_df" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;pull_df
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.AsyncFlow.run" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;run
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.AsyncFlow.show_schema" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;show_schema
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.Flow" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Flow
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.Flow.df" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;df
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.Flow.pull_df" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;pull_df
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.Flow.show_schema" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;show_schema
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;flow
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow.AsyncFlow" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;AsyncFlow
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" AsyncFlow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow.AsyncFlow.log" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;log
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow.AsyncFlow.logs" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;logs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow.AsyncFlow.connect" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;connect
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow.AsyncFlow.df" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;df
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow.AsyncFlow.pull_df" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;pull_df
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow.AsyncFlow.run" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;run
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow.AsyncFlow.show_schema" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;show_schema
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow.BaseStageHandler" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;BaseStageHandler
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" BaseStageHandler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow.BaseStageHandler.execute" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;execute
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow.Datablock" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Datablock
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Datablock">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow.Datablock.do" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;do
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow.Datablock.prepare" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;prepare
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow.Datablock.render" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;render
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow.Flow" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Flow
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow.Flow.df" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;df
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow.Flow.pull_df" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;pull_df
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow.Flow.show_schema" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;show_schema
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow.InternalStageHandler" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;InternalStageHandler
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" InternalStageHandler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow.InternalStageHandler.execute" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;execute
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow.PipelineStageHandler" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;PipelineStageHandler
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" PipelineStageHandler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow.PipelineStageHandler.execute" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;execute
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow.SQLStageHandler" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;SQLStageHandler
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" SQLStageHandler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow.SQLStageHandler.execute" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;execute
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow.SinkStageHandler" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;SinkStageHandler
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" SinkStageHandler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow.SinkStageHandler.execute" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;execute
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow.StageFactory" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;StageFactory
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" StageFactory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow.StageFactory.get_handler" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_handler
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow.TapStageHandler" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;TapStageHandler
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" TapStageHandler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow.TapStageHandler.execute" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;execute
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow.TransformStageHandler" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;TransformStageHandler
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" TransformStageHandler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.core.flow.TransformStageHandler.execute" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;execute
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ankaflow.errors" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;errors
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ankaflow.internal" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;internal
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" internal">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.internal.browser" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;browser
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" browser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.internal.browser.DDB" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;DDB
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" DDB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.internal.browser.DDB.connect" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;connect
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.internal.browser.DDB.delta_scan" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;delta_scan
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.internal.browser.DDB.get" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.internal.browser.DDB.inject_secrets" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;inject_secrets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.internal.browser.DDB.parquet_scan" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;parquet_scan
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.internal.browser.DDB.read_csv" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;read_csv
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.internal.browser.DDB.read_json" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;read_json
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.internal.browser.DDB.read_parquet" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;read_parquet
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.internal.browser.DDB.register" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;register
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.internal.browser.DDB.sql" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;sql
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.internal.browser.DDB.unregister" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;unregister
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.internal.browser.DuckDBIORewriter" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;DuckDBIORewriter
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" DuckDBIORewriter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.internal.browser.DuckDBIORewriter.rewrite" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;rewrite
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.internal.browser.Relation" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Relation
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Relation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.internal.browser.Relation.df" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;df
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.internal.browser.RemoteObject" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;RemoteObject
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" RemoteObject">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.internal.browser.RemoteObject.fetch" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;fetch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.internal.browser.RemoteObject.upload" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;upload
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.internal.duckdb" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;duckdb
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" duckdb">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.internal.duckdb.Relation" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Relation
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Relation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.internal.duckdb.Relation.raw" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;raw
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.internal.macros" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;macros
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" macros">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.internal.macros.Fn" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Fn
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Fn">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.internal.macros.Fn.dt" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;dt
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.internal.server" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;server
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.internal.server.DDB" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;DDB
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ankaflow.models" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;models
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.AuthType" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;AuthType
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.BasicHandler" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;BasicHandler
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" BasicHandler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.BasicHandler.kind" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;kind
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.BigQuery" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;BigQuery
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.BigQueryConfig" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;BigQueryConfig
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" BigQueryConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.BigQueryConfig.credential_file" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;credential_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.BigQueryConfig.dataset" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;dataset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.BigQueryConfig.project" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;project
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.BigQueryConfig.region" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;region
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.BucketConfig" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;BucketConfig
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" BucketConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.BucketConfig.bucket" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;bucket
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.BucketConfig.data_prefix" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;data_prefix
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.BucketConfig.locator_wildcard" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;locator_wildcard
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.BucketConfig.region" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;region
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.CSV" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;CSV
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Clickhouse" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Clickhouse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.ClickhouseConfig" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ClickhouseConfig
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" ClickhouseConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.ClickhouseConfig.blocksize" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;blocksize
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Connection" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Connection
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Connection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Connection.config" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Connection.create_statement" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;create_statement
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Connection.data_mode" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;data_mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Connection.fields" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;fields
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Connection.key" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Connection.kind" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;kind
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Connection.locator" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;locator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Connection.optimize" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;optimize
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" optimize">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Connection.optimize--deltatable" class="md-nav__link">
    <span class="md-ellipsis">
      Deltatable
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Connection.params" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;params
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Connection.partition" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;partition
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Connection.schema_mode" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;schema_mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Connection.show_schema" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;show_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Connection.version" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;version
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.ConnectionConfiguration" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ConnectionConfiguration
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" ConnectionConfiguration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.ConnectionConfiguration.bigquery" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;bigquery
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.ConnectionConfiguration.clickhouse" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;clickhouse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.ConnectionConfiguration.gs" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;gs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.ConnectionConfiguration.local" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;local
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.ConnectionConfiguration.s3" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;s3
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.ContentType" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ContentType
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.CustomConnection" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;CustomConnection
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" CustomConnection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.CustomConnection.classname" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;classname
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.CustomConnection.module" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;module
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.CustomConnection.params" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;params
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.CustomConnection.load" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;load
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.DataType" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;DataType
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.DatabaseConfig" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;DatabaseConfig
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" DatabaseConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.DatabaseConfig.cluster" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;cluster
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.DatabaseConfig.database" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;database
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.DatabaseConfig.host" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;host
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.DatabaseConfig.password" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;password
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.DatabaseConfig.port" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;port
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.DatabaseConfig.username" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;username
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Datablock" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Datablock
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Datablock">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Datablock.connection" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;connection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Datablock.context" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;context
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Datablock.explain" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;explain
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Datablock.fields" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;fields
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Datablock.kind" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;kind
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" kind">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Datablock.kind--sink" class="md-nav__link">
    <span class="md-ellipsis">
      Sink
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Datablock.kind--pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      Pipeline
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Datablock.locator" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;locator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Datablock.log_level" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;log_level
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Datablock.name" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Datablock.on_error" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;on_error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Datablock.query" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;query
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Datablock.show" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;show
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Datablock.show_schema" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;show_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Datablock.skip_if" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;skip_if
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Datablock.stages" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;stages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Datablock.throttle" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;throttle
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Deltatable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Deltatable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Dimension" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Dimension
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Dimension">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Dimension.load" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;load
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Field" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Field
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Field">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Field.name" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Field.type" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;type
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Fields" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Fields
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.File" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;File
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.FlowContext" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FlowContext
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.GSConfig" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;GSConfig
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" GSConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.GSConfig.credential_file" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;credential_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.GSConfig.hmac_key" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;hmac_key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.GSConfig.hmac_secret" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;hmac_secret
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.JSON" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;JSON
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.LogLevel" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;LogLevel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.ModelType" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ModelType
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Paginator" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Paginator
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Paginator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Paginator.increment" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;increment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Paginator.kind" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;kind
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Paginator.page_param" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;page_param
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Paginator.page_size" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;page_size
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Paginator.param_locator" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;param_locator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Paginator.throttle" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;throttle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Paginator.total_records" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;total_records
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.ParameterDisposition" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ParameterDisposition
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Parquet" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Parquet
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Request" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Request
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Request">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Request.body" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;body
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" body">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Request.body--example-with-looping" class="md-nav__link">
    <span class="md-ellipsis">
      Example with looping
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Request.content_type" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;content_type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Request.endpoint" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;endpoint
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Request.errorhandler" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;errorhandler
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Request.method" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;method
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Request.query" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;query
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Request.response" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;response
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.RequestMethod" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;RequestMethod
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.ResponseHandlerTypes" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ResponseHandlerTypes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Rest" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Rest
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Rest">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Rest.client" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;client
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Rest.fields" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;fields
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Rest.kind" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;kind
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Rest.request" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;request
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Rest.show_schema" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;show_schema
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.RestAuth" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;RestAuth
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" RestAuth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.RestAuth.method" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;method
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.RestAuth.values" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;values
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.RestAuth.coerce_to_stringdict" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;coerce_to_stringdict
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.RestClientConfig" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;RestClientConfig
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" RestClientConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.RestClientConfig.base_url" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;base_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.RestClientConfig.timeout" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;timeout
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.RestErrorHandler" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;RestErrorHandler
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" RestErrorHandler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.RestErrorHandler.condition" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;condition
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.RestErrorHandler.error_status_codes" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;error_status_codes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.RestErrorHandler.message" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;message
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.RestResponse" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;RestResponse
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" RestResponse">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.RestResponse.content_type" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;content_type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.RestResponse.locator" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;locator
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.S3Config" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;S3Config
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" S3Config">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.S3Config.access_key_id" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;access_key_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.S3Config.secret_access_key" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;secret_access_key
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Stages" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Stages
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Stages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Stages.enumerate_steps" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;enumerate_steps
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Stages.load" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;load
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Stages.steps" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;steps
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.StatePoller" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;StatePoller
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" StatePoller">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.StatePoller.kind" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;kind
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.StatePoller.ready_status" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;ready_status
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.URLPoller" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;URLPoller
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" URLPoller">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.URLPoller.kind" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;kind
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.URLPoller.ready_status" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;ready_status
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Variable" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Variable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ankaflow.models.Variables" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Variables
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ankaflow.tests" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;tests
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="ankaflow_1">AnkaFlow<a class="headerlink" href="#ankaflow_1" title="Permanent link">&para;</a></h1>


<div class="doc doc-object doc-module">



<a id="ankaflow"></a>
    <div class="doc doc-contents first">









  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h2 id="ankaflow.__all__" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">__all__</span>


<a href="#ankaflow.__all__" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;Flow&quot;</span><span class="p">,</span>
    <span class="s2">&quot;AsyncFlow&quot;</span><span class="p">,</span>
    <span class="s2">&quot;FlowControl&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Stages&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ConnectionConfiguration&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Variables&quot;</span><span class="p">,</span>
    <span class="s2">&quot;FlowContext&quot;</span><span class="p">,</span>
    <span class="s2">&quot;FlowRunError&quot;</span><span class="p">,</span>
    <span class="s2">&quot;FlowError&quot;</span><span class="p">,</span>
    <span class="s2">&quot;S3Config&quot;</span><span class="p">,</span>
    <span class="s2">&quot;GSConfig&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ClickhouseConfig&quot;</span><span class="p">,</span>
    <span class="s2">&quot;BigQueryConfig&quot;</span><span class="p">,</span>
    <span class="s2">&quot;BucketConfig&quot;</span><span class="p">,</span>
<span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>


<div class="doc doc-object doc-class">



<h2 id="ankaflow.AsyncFlow" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">AsyncFlow</span>


<a href="#ankaflow.AsyncFlow" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">AsyncFlow</span><span class="p">(</span>
    <span class="n">defs</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Stages (ankaflow.models.Stages)" href="#ankaflow.models.Stages">Stages</a></span><span class="p">,</span>
    <span class="n">context</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            FlowContext (ankaflow.models.FlowContext)" href="#ankaflow.models.FlowContext">FlowContext</a></span><span class="p">,</span>
    <span class="n">default_connection</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            ConnectionConfiguration (ankaflow.models.ConnectionConfiguration)" href="#ankaflow.models.ConnectionConfiguration">ConnectionConfiguration</a></span><span class="p">,</span>
    <span class="n">variables</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Variables (ankaflow.models.Variables)" href="#ankaflow.models.Variables">Variables</a></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">logger</span><span class="p">:</span> <span class="n"><span title="logging.Logger">Logger</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">conn</span><span class="p">:</span> <span class="n"><span title="ankaflow.internal.DDB">DDB</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">flow_control</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            FlowControl (ankaflow.core.policy.FlowControl)" href="#ankaflow.FlowControl">FlowControl</a></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">log_context</span><span class="p">:</span> <span class="n"><span title="str">str</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">


        <p>Controls the flow of data based on the pipeline definition.</p>
<p>The stages are run in the defined order and can either fetch data
from a source (tap), transform via SQL, or store to a sink.</p>



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>defs</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            Stages (ankaflow.models.Stages)" href="#ankaflow.models.Stages">Stages</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of stages to be processed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>context</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            FlowContext (ankaflow.models.FlowContext)" href="#ankaflow.models.FlowContext">FlowContext</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dynamic context for query templates.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>default_connection</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            ConnectionConfiguration (ankaflow.models.ConnectionConfiguration)" href="#ankaflow.models.ConnectionConfiguration">ConnectionConfiguration</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Configuration passed
to underlying storage or database.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>variables</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            Variables (ankaflow.models.Variables)" href="#ankaflow.models.Variables">Variables</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Variables for tap or prepare.
Defaults to {}.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>logger</code>
            </td>
            <td>
                  <code><span title="logging.Logger">Logger</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Logger for show() requests.
Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>conn</code>
            </td>
            <td>
                  <code><span title="ankaflow.internal.DDB">DDB</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Existing DuckDB connection. If not set, a new
connection is created.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>flow_control</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            FlowControl (ankaflow.core.policy.FlowControl)" href="#ankaflow.FlowControl">FlowControl</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Flow control configuration.
Defaults to FlowControl().</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>log_context</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Log context passed to each stage.
Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>










  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="ankaflow.AsyncFlow.log" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">log</span>


<a href="#ankaflow.AsyncFlow.log" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">log</span><span class="p">:</span> <span class="n"><span title="logging.Logger">Logger</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns the logger.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="ankaflow.AsyncFlow.logs" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">logs</span>


<a href="#ankaflow.AsyncFlow.logs" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">logs</span><span class="p">:</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns the log buffer.</p>

    </div>

</div>



<div class="doc doc-object doc-function">


<h3 id="ankaflow.AsyncFlow.connect" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">connect</span>


<a href="#ankaflow.AsyncFlow.connect" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">connect</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Connects to the underlying database if not already connected.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ankaflow.AsyncFlow.df" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">df</span>


<a href="#ankaflow.AsyncFlow.df" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">df</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="pandas.DataFrame">DataFrame</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns a dataframe from the last stage.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pd.DataFrame: Data from the last stage.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ankaflow.AsyncFlow.pull_df" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">pull_df</span>


<a href="#ankaflow.AsyncFlow.pull_df" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">pull_df</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="pandas.DataFrame">DataFrame</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Convenience method to pull the final dataframe.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pd.DataFrame: Data from the last stage.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ankaflow.AsyncFlow.run" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">run</span>


<a href="#ankaflow.AsyncFlow.run" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">run</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="            AsyncFlow (ankaflow.core.flow.AsyncFlow)" href="#ankaflow.core.flow.AsyncFlow">AsyncFlow</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Runs the pipeline stages.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>AsyncFlow</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="            AsyncFlow (ankaflow.core.flow.AsyncFlow)" href="#ankaflow.core.flow.AsyncFlow">AsyncFlow</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Self instance after running the pipeline.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ankaflow.AsyncFlow.show_schema" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">show_schema</span>


<a href="#ankaflow.AsyncFlow.show_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">show_schema</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="            SchemaItem (ankaflow.models.SchemaItem)" href="../ankaflow.models/#ankaflow.models.SchemaItem">SchemaItem</a></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns schemas for all supported stages.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="            SchemaItem (ankaflow.models.SchemaItem)" href="../ankaflow.models/#ankaflow.models.SchemaItem">SchemaItem</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>t.List[m.SchemaItem]: List of schema items.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ankaflow.BigQueryConfig" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">BigQueryConfig</span>


<a href="#ankaflow.BigQueryConfig" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Configuration for accessing BigQuery datasets.</p>










  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="ankaflow.BigQueryConfig.credential_file" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">credential_file</span>


<a href="#ankaflow.BigQueryConfig.credential_file" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">credential_file</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Path to service account JSON credentials for BigQuery access.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="ankaflow.BigQueryConfig.dataset" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">dataset</span>


<a href="#ankaflow.BigQueryConfig.dataset" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">dataset</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>BigQuery dataset name.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="ankaflow.BigQueryConfig.project" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">project</span>


<a href="#ankaflow.BigQueryConfig.project" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">project</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>GCP project ID containing the BigQuery dataset.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="ankaflow.BigQueryConfig.region" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">region</span>


<a href="#ankaflow.BigQueryConfig.region" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">region</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>BigQuery region (e.g., "us-central1").</p>

    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ankaflow.BucketConfig" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">BucketConfig</span>


<a href="#ankaflow.BucketConfig" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>











  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="ankaflow.BucketConfig.bucket" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">bucket</span>


<a href="#ankaflow.BucketConfig.bucket" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">bucket</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Bucket name eg. <code>s3://my-bucket</code>
or local absolute path eg. <code>/data/path</code></p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="ankaflow.BucketConfig.data_prefix" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">data_prefix</span>


<a href="#ankaflow.BucketConfig.data_prefix" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">data_prefix</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Prefix for data files: <code>s3://my-bucket/&lt;prefix&gt;</code> or
<code>/data/path/&lt;prefix&gt;</code></p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="ankaflow.BucketConfig.locator_wildcard" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">locator_wildcard</span>


<a href="#ankaflow.BucketConfig.locator_wildcard" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">locator_wildcard</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="typing.Tuple">Tuple</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Regular expression and wildcard to modify <code>locator</code>.
Useful in cases when you sink data to <code>data-YYYY.parquet</code>
but want to read <code>data-*.parquet</code>.
Provide tuple with patten as first element and replacement
as second one. Example:</p>
<pre><code>('-\d{4}-', '*')
</code></pre>
<p>This will create wildcard for <code>data-YYYY-base.parquet</code> as
<code>data*base.parquet</code>.</p>
<table>
<thead>
<tr>
<th>Wildcard</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>*</code></td>
<td>matches any number of any characters (including none)</td>
</tr>
<tr>
<td><code>**</code></td>
<td>matches any number of subdirectories (including none)</td>
</tr>
<tr>
<td><code>[abc]</code></td>
<td>matches one character given in the bracket</td>
</tr>
<tr>
<td><code>[a-z]</code></td>
<td>matches one character from the range given in the bracket</td>
</tr>
</tbody>
</table>
<p>Wildcard is automatically applied in tap and show_schema operations.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="ankaflow.BucketConfig.region" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">region</span>


<a href="#ankaflow.BucketConfig.region" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">region</span><span class="p">:</span> <span class="n"><span title="str">str</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        

    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ankaflow.ClickhouseConfig" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">ClickhouseConfig</span>


<a href="#ankaflow.ClickhouseConfig" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            DatabaseConfig (ankaflow.models.DatabaseConfig)" href="#ankaflow.models.DatabaseConfig">DatabaseConfig</a></code></p>


        <p>Configuration for ClickHouse database, extending generic SQL config.</p>










  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="ankaflow.ClickhouseConfig.blocksize" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">blocksize</span>


<a href="#ankaflow.ClickhouseConfig.blocksize" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">blocksize</span><span class="p">:</span> <span class="n"><span title="int">int</span></span> <span class="o">=</span> <span class="mi">50000</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Number of rows to process per block for batch operations.</p>

    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ankaflow.ConnectionConfiguration" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">ConnectionConfiguration</span>


<a href="#ankaflow.ConnectionConfiguration" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Top-level container for all connection configurations in a pipeline.</p>
<p>Includes default configuration blocks for supported sources and sinks like:
- Local file systems
- S3 and GCS buckets
- BigQuery datasets
- ClickHouse databases</p>
<p>These can be customized per pipeline or extended with new sources.</p>


<details class="example" open>
  <summary>Example</summary>
  <p>To support MySQL, you can define a new model like this:</p>
<pre><code class="language-python">class MySQLConfig(DatabaseConfig):
    pass  # You can add MySQL-specific fields here if needed

class ExtendedConnectionConfiguration(ConnectionConfiguration):
    mysql: MySQLConfig = PydanticField(default_factory=MySQLConfig)
</code></pre>
<p>This will allow you to specify MySQL connection settings in your YAML:</p>
<pre><code class="language-yaml">connection:
  kind: MySQL
  config:
    host: localhost
    port: 3306
    database: sales
    username: admin
    password: secret
</code></pre>
</details>









  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="ankaflow.ConnectionConfiguration.bigquery" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">bigquery</span>


<a href="#ankaflow.ConnectionConfiguration.bigquery" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">bigquery</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            BigQueryConfig (ankaflow.models.BigQueryConfig)" href="#ankaflow.models.BigQueryConfig">BigQueryConfig</a></span> <span class="o">=</span> <span class="n"><span title="pydantic.Field">Field</span></span><span class="p">(</span>
    <span class="n"><span title="pydantic.Field(default_factory)">default_factory</span></span><span class="o">=</span><span class="n"><a class="autorefs autorefs-internal" title="            BigQueryConfig (ankaflow.models.BigQueryConfig)" href="#ankaflow.models.BigQueryConfig">BigQueryConfig</a></span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>BigQuery connection configuration.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="ankaflow.ConnectionConfiguration.clickhouse" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">clickhouse</span>


<a href="#ankaflow.ConnectionConfiguration.clickhouse" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">clickhouse</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            ClickhouseConfig (ankaflow.models.ClickhouseConfig)" href="#ankaflow.models.ClickhouseConfig">ClickhouseConfig</a></span> <span class="o">=</span> <span class="n"><span title="pydantic.Field">Field</span></span><span class="p">(</span>
    <span class="n"><span title="pydantic.Field(default_factory)">default_factory</span></span><span class="o">=</span><span class="n"><a class="autorefs autorefs-internal" title="            ClickhouseConfig (ankaflow.models.ClickhouseConfig)" href="#ankaflow.models.ClickhouseConfig">ClickhouseConfig</a></span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>ClickHouse database configuration.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="ankaflow.ConnectionConfiguration.gs" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">gs</span>


<a href="#ankaflow.ConnectionConfiguration.gs" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">gs</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            GSConfig (ankaflow.models.GSConfig)" href="#ankaflow.models.GSConfig">GSConfig</a></span> <span class="o">=</span> <span class="n"><span title="pydantic.Field">Field</span></span><span class="p">(</span><span class="n"><span title="pydantic.Field(default_factory)">default_factory</span></span><span class="o">=</span><span class="n"><a class="autorefs autorefs-internal" title="            GSConfig (ankaflow.models.GSConfig)" href="#ankaflow.models.GSConfig">GSConfig</a></span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Google Cloud Storage configuration.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="ankaflow.ConnectionConfiguration.local" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">local</span>


<a href="#ankaflow.ConnectionConfiguration.local" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">local</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            BucketConfig (ankaflow.models.BucketConfig)" href="#ankaflow.models.BucketConfig">BucketConfig</a></span> <span class="o">=</span> <span class="n"><span title="pydantic.Field">Field</span></span><span class="p">(</span><span class="n"><span title="pydantic.Field(default_factory)">default_factory</span></span><span class="o">=</span><span class="n"><a class="autorefs autorefs-internal" title="            BucketConfig (ankaflow.models.BucketConfig)" href="#ankaflow.models.BucketConfig">BucketConfig</a></span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Local file system configuration.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="ankaflow.ConnectionConfiguration.s3" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">s3</span>


<a href="#ankaflow.ConnectionConfiguration.s3" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">s3</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            S3Config (ankaflow.models.S3Config)" href="#ankaflow.models.S3Config">S3Config</a></span> <span class="o">=</span> <span class="n"><span title="pydantic.Field">Field</span></span><span class="p">(</span><span class="n"><span title="pydantic.Field(default_factory)">default_factory</span></span><span class="o">=</span><span class="n"><a class="autorefs autorefs-internal" title="            S3Config (ankaflow.models.S3Config)" href="#ankaflow.models.S3Config">S3Config</a></span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>S3 cloud storage configuration.</p>

    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ankaflow.Flow" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Flow</span>


<a href="#ankaflow.Flow" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">Flow</span><span class="p">(</span>
    <span class="n">defs</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Stages (ankaflow.models.Stages)" href="#ankaflow.models.Stages">Stages</a></span><span class="p">,</span>
    <span class="n">context</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            FlowContext (ankaflow.models.FlowContext)" href="#ankaflow.models.FlowContext">FlowContext</a></span><span class="p">,</span>
    <span class="n">default_connection</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            ConnectionConfiguration (ankaflow.models.ConnectionConfiguration)" href="#ankaflow.models.ConnectionConfiguration">ConnectionConfiguration</a></span><span class="p">,</span>
    <span class="n">variables</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Variables (ankaflow.models.Variables)" href="#ankaflow.models.Variables">Variables</a></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">logger</span><span class="p">:</span> <span class="n"><span title="logging.Logger">Logger</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">conn</span><span class="p">:</span> <span class="n"><span title="duckdb.DuckDBPyConnection">DuckDBPyConnection</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">flow_control</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            FlowControl (ankaflow.core.policy.FlowControl)" href="#ankaflow.FlowControl">FlowControl</a></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">log_context</span><span class="p">:</span> <span class="n"><span title="str">str</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">


        <p>Flow controls the flow of data based on the pipeline definition.
The stages are run in the defined order and can either fetch data
from source (tap), transform via SQL statement, or store to sink.</p>
<p>This is the sync version and should be used in most cases.</p>



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>defs</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            Stages (ankaflow.models.Stages)" href="#ankaflow.models.Stages">Stages</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of stages to be processed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>context</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            FlowContext (ankaflow.models.FlowContext)" href="#ankaflow.models.FlowContext">FlowContext</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>dynamic context that can be used
in query templates.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>default_connection</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            ConnectionConfiguration (ankaflow.models.ConnectionConfiguration)" href="#ankaflow.models.ConnectionConfiguration">ConnectionConfiguration</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Configuration
passed to underlying storage or database
(s3 bucket, database connection string &amp;c).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>variables</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Any variables that can be referenced
by a tap or prepare. Ony data structures that can be passed
to pl.from_dicts() are supported in taps. Defaults to {}.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>logger</code>
            </td>
            <td>
                  <code><span title="Logger">Logger</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If set then show() requests are logged.
Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>conn</code>
            </td>
            <td>
                  <code><span title="DuckDBPyConnection">DuckDBPyConnection</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Existing DuckDB connection. If not set
new connection will be created.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="ankaflow.Flow.df" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">df</span>


<a href="#ankaflow.Flow.df" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">df</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns dataframe from the last stage</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ankaflow.Flow.pull_df" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">pull_df</span>


<a href="#ankaflow.Flow.pull_df" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">pull_df</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="pandas.DataFrame">DataFrame</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Convenience method to pull final dataframe</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pl.DataFrame: data from last stage</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ankaflow.Flow.show_schema" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">show_schema</span>


<a href="#ankaflow.Flow.show_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">show_schema</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="            SchemaItem (ankaflow.models.SchemaItem)" href="../ankaflow.models/#ankaflow.models.SchemaItem">SchemaItem</a></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns schemas of all supported stages</p>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ankaflow.FlowContext" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">FlowContext</span>


<a href="#ankaflow.FlowContext" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="ankaflow.common.types.ImmutableMap">ImmutableMap</span></code></p>


        <p>Context dictionary can be used to supply arbitrary data
to pipeline that can be referenced in templates much
much like variables with the difference that they cannot
be modified at runtime.</p>
<p>Context can be initiated via dictionary:</p>
<p><code>context = FlowContext(**{'foo':'Bar'}])</code></p>
<p>Items can be reference using both bracket and dot notation:</p>
<p><code>context.foo == context['foo'] == 'Bar'</code></p>








    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ankaflow.FlowControl" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">FlowControl</span>


<a href="#ankaflow.FlowControl" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">FlowControl</span><span class="p">(</span><span class="n">on_error</span><span class="p">:</span> <span class="n"><span title="str">str</span></span> <span class="o">=</span> <span class="s1">&#39;fail&#39;</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">











  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ankaflow.FlowError" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">FlowError</span>


<a href="#ankaflow.FlowError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="Exception">Exception</span></code></p>









    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ankaflow.FlowRunError" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">FlowRunError</span>


<a href="#ankaflow.FlowRunError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            FlowError (ankaflow.errors.FlowError)" href="#ankaflow.FlowError">FlowError</a></code></p>









    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ankaflow.GSConfig" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">GSConfig</span>


<a href="#ankaflow.GSConfig" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            BucketConfig (ankaflow.models.BucketConfig)" href="#ankaflow.models.BucketConfig">BucketConfig</a></code></p>


        <p>Google Cloud Storage (GCS) configuration.</p>
<ul>
<li>HMAC credentials allow reading/writing Parquet, JSON, and CSV.</li>
<li>Delta table writes require a full service account credential file.</li>
</ul>










  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="ankaflow.GSConfig.credential_file" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">credential_file</span>


<a href="#ankaflow.GSConfig.credential_file" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">credential_file</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Path to GCP service account credential file (JSON).
Required for certain write operations (e.g., Delta tables).</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="ankaflow.GSConfig.hmac_key" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">hmac_key</span>


<a href="#ankaflow.GSConfig.hmac_key" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">hmac_key</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>GCS HMAC key ID for authenticated access.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="ankaflow.GSConfig.hmac_secret" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">hmac_secret</span>


<a href="#ankaflow.GSConfig.hmac_secret" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">hmac_secret</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>GCS HMAC secret for authenticated access.</p>

    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ankaflow.S3Config" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">S3Config</span>


<a href="#ankaflow.S3Config" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            BucketConfig (ankaflow.models.BucketConfig)" href="#ankaflow.models.BucketConfig">BucketConfig</a></code></p>


        <p>S3-specific bucket configuration including optional authentication.</p>










  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="ankaflow.S3Config.access_key_id" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">access_key_id</span>


<a href="#ankaflow.S3Config.access_key_id" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">access_key_id</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>AWS access key ID for private S3 access.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="ankaflow.S3Config.secret_access_key" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">secret_access_key</span>


<a href="#ankaflow.S3Config.secret_access_key" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">secret_access_key</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>AWS secret access key for private S3 access.</p>

    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ankaflow.Stages" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Stages</span>


<a href="#ankaflow.Stages" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.RootModel">RootModel</span>[<span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="            Datablock (ankaflow.models.Datablock)" href="#ankaflow.models.Datablock">Datablock</a>]]</code></p>


        <p>A sequence of processing stages in a data pipeline.</p>
<p>Each <code>Datablock</code> in <code>root</code> represents one discrete step or transformation
in an end-to-end business workflow (e.g., tap, transform, sink, validate).</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="ankaflow.Stages.root">root</span></code></td>
            <td>
                  <code><span title="List">List</span>[<a class="autorefs autorefs-internal" title="            Datablock (ankaflow.models.Datablock)" href="#ankaflow.models.Datablock">Datablock</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Ordered list of pipeline stages to execute.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="ankaflow.Stages.enumerate_steps" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">enumerate_steps</span>


<a href="#ankaflow.Stages.enumerate_steps" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">enumerate_steps</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Iterator">Iterator</span></span><span class="p">[</span><span class="n"><span title="tuple">tuple</span></span><span class="p">[</span><span class="n"><span title="int">int</span></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="            Datablock (ankaflow.models.Datablock)" href="#ankaflow.models.Datablock">Datablock</a></span><span class="p">]]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Yield each stage along with its 0-based position.</p>
<p>Use this when you need both the stage and its index for logging,
metrics, or conditional branching.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Iterator">Iterator</span>[<span title="tuple">tuple</span>[<span title="int">int</span>, <a class="autorefs autorefs-internal" title="            Datablock (ankaflow.models.Datablock)" href="#ankaflow.models.Datablock">Datablock</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Iterator[Tuple[int, Datablock]]: Pairs of (index, stage).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ankaflow.Stages.load" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">load</span>


<a href="#ankaflow.Stages.load" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">load</span><span class="p">(</span><span class="n">source</span><span class="p">:</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><span title="pathlib.Path">Path</span></span><span class="p">,</span> <span class="n"><span title="typing.IO">IO</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-internal" title="            Loadable (ankaflow.models.Loadable)" href="../ankaflow.models/#ankaflow.models.Loadable">Loadable</a></span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="            Stages (ankaflow.models.Stages)" href="#ankaflow.models.Stages">Stages</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Load a pipeline from YAML (path, YAML-string, file-like or Loadable).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>source</code>
            </td>
            <td>
                  <code><span title="str">str</span> | <span title="pathlib.Path">Path</span> | <span title="IO">IO</span>[<span title="str">str</span>] | <a class="autorefs autorefs-internal" title="            Loadable (ankaflow.models.Loadable)" href="../ankaflow.models/#ankaflow.models.Loadable">Loadable</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <ul>
<li>Path to a .yaml file</li>
<li>Raw YAML content</li>
<li>File-like object returning YAML</li>
<li>Any object with a <code>.load()</code> method returning Python data</li>
</ul>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Stages</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="            Stages (ankaflow.models.Stages)" href="#ankaflow.models.Stages">Stages</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a validated <code>Stages</code> instance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ankaflow.Stages.steps" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">steps</span>


<a href="#ankaflow.Stages.steps" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">steps</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Iterator">Iterator</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="            Datablock (ankaflow.models.Datablock)" href="#ankaflow.models.Datablock">Datablock</a></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Yield each stage in execution order.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Iterator">Iterator</span>[<a class="autorefs autorefs-internal" title="            Datablock (ankaflow.models.Datablock)" href="#ankaflow.models.Datablock">Datablock</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Iterator[Datablock]: An iterator over the stages,</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Iterator">Iterator</span>[<a class="autorefs autorefs-internal" title="            Datablock (ankaflow.models.Datablock)" href="#ankaflow.models.Datablock">Datablock</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>from first to last.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ankaflow.Variables" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Variables</span>


<a href="#ankaflow.Variables" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="dict">dict</span></code></p>


        <p>Variables is a <code>dict</code>-based collection
storing arbitrary data under keys. Variable can be populated via:</p>
<ul>
<li>Dictionary passed to pipeline:
  <code>Flow(defs, context, variables={'foo': 'bar'})</code></li>
<li>Sink operation:<pre><code>- kind: sink

    name: my_sink

    connection:

        kind: Variable

        locator: variable_name
</code></pre>
</li>
</ul>
<p>This step will place a list of records from preceding step in
  variables as <code>{'variable_name': t.List[dict]}</code></p>
<p>In most cases sainking to variable is not needed as all preceding stages
in a pipeline can be referenced via <code>name</code>. Sinking to variable is
useful when you need to share data with subpipeline.</p>
<p>Special variable is <code>loop_control</code> which is populated
dynamically from previous step and current stage type is pipeline.
In case previous step generates multiple records then the new pipeline
is called for each record, and control variable holds a <code>dict</code>
representing the current record.</p>








    </div>

</div>



<div class="doc doc-object doc-module">



<h2 id="ankaflow.api" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">api</span>


<a href="#ankaflow.api" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="ankaflow.api.API" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">API</span>


<a href="#ankaflow.api.API" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">











  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ankaflow.api.API.dt" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">dt</span>


<a href="#ankaflow.api.API.dt" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">dt</span><span class="p">(</span>
    <span class="n">datelike</span><span class="p">:</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span>
        <span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><span title="ankaflow.api.API.int">int</span></span><span class="p">,</span> <span class="n"><span title="float">float</span></span><span class="p">,</span> <span class="n"><span title="datetime.date">date</span></span><span class="p">,</span> <span class="n"><span title="datetime.datetime">datetime</span></span><span class="p">,</span> <span class="n"><span title="arrow.Arrow">Arrow</span></span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">tz</span><span class="p">:</span> <span class="n"><span title="str">str</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="nb">format</span><span class="p">:</span> <span class="n"><span title="str">str</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">default</span><span class="p">:</span> <span class="n"><span title="str">str</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Attempts to convert input object into Arrow.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>tz</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>IANA timezone string If . Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>format</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If set use this format to parse input.
Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>default</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Use default timestamp if first attempt
fails. Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Arrow</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Arrow object</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ankaflow.api.API.error" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">error</span>


<a href="#ankaflow.api.API.error" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">error</span><span class="p">(</span><span class="n">expression</span><span class="p">:</span> <span class="n"><span title="typing.Any">Any</span></span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Any">Any</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Raises an exception if input expression evaluates
to True.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>expression</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Expression to be evaluetd</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>message</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Message to include in exception</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ankaflow.api.UserGeneratedError">UserGeneratedError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><em>description</em></p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>t.Any: Expression</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ankaflow.api.API.look" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">look</span>


<a href="#ankaflow.api.API.look" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">look</span><span class="p">(</span>
    <span class="n">lookup</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n"><span title="typing.Any">Any</span></span><span class="p">,</span> <span class="n">default</span><span class="p">:</span> <span class="n"><span title="typing.Any">Any</span></span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Extracts value from given structure, or default value
if requested value not found.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>lookup</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Lookup query</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Iterable object</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>default</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Default value to return.
Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>t.Union[str, None]: <em>description</em></p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ankaflow.api.API.peek" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">peek</span>


<a href="#ankaflow.api.API.peek" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">peek</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n"><span title="typing.Any">Any</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="str">str</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns information about value type:
module.Class
Useful for debugging data obtained from
remote sources.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Any value</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><em>description</em></p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ankaflow.api.API.setvariable" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">setvariable</span>


<a href="#ankaflow.api.API.setvariable" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">setvariable</span><span class="p">(</span><span class="n">collection</span><span class="p">:</span> <span class="n"><span title="dict">dict</span></span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n"><span title="typing.Any">Any</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Any">Any</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Attempts to assign value to a dictionary under the given key.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>collection</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary to use e.g. variables</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>key</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Key to store thalue to be storese value under</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>V</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>t.Any: Original value</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ankaflow.api.API.sqltuple" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">sqltuple</span>


<a href="#ankaflow.api.API.sqltuple" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">sqltuple</span><span class="p">(</span><span class="n">iterable</span><span class="p">:</span> <span class="n"><span title="typing.Iterable">Iterable</span></span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="n"><span title="str">str</span></span> <span class="o">=</span> <span class="s1">&#39;string&#39;</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns SQL tuple literal from given iterable.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>iterable</code>
            </td>
            <td>
                  <code><span title="Iterable">Iterable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Any iterable.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>mode</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>"string"|"number". Defaults to "string".</p>
              </div>
            </td>
            <td>
                  <code>&#39;string&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="NotImplementedError">NotImplementedError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>When unsupported mode is used</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>SQL tuple literal</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="ankaflow.cli" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">cli</span>


<a href="#ankaflow.cli" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">









  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="ankaflow.cli.resolve_yaml_path" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">resolve_yaml_path</span>


<a href="#ankaflow.cli.resolve_yaml_path" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">resolve_yaml_path</span><span class="p">(</span><span class="n">path_arg</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="pathlib.Path">Path</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Resolve YAML path, remapping 'DEMO' to a relative demo file path.</p>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="ankaflow.connections" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">connections</span>


<a href="#ankaflow.connections" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">









  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="ankaflow.connections.load_connection" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">load_connection</span>


<a href="#ankaflow.connections.load_connection" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">load_connection</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">:</span> <span class="n"><span title="typing.Type">Type</span></span><span class="p">[</span>
        <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="            Connection (ankaflow.models.Connection)" href="#ankaflow.models.Connection">Connection</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="            Rest (ankaflow.models.Rest)" href="#ankaflow.models.Rest">Rest</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="            CustomConnection (ankaflow.models.CustomConnection)" href="#ankaflow.models.CustomConnection">CustomConnection</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="            Dimension (ankaflow.models.Dimension)" href="#ankaflow.models.Dimension">Dimension</a></span><span class="p">]</span>
    <span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Type">Type</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="            Connection (ankaflow.connections.connection.Connection)" href="#ankaflow.connections.connection.Connection">Connection</a></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Load built-in connection or custom connection from module</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Connection name</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>module</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If set then try to load from
given module. Defaults to None i.e. built-in connection.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>


<div class="doc doc-object doc-module">



<h3 id="ankaflow.connections.bigquery" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">bigquery</span>


<a href="#ankaflow.connections.bigquery" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="ankaflow.connections.bigquery.BigQuery" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">BigQuery</span>


<a href="#ankaflow.connections.bigquery.BigQuery" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">BigQuery</span><span class="p">(</span>
    <span class="n">duck</span><span class="p">:</span> <span class="n"><span title="ankaflow.internal.DDB">DDB</span></span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span>
    <span class="n">connection</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Connection (ankaflow.models.Connection)" href="#ankaflow.models.Connection">Connection</a></span><span class="p">,</span>
    <span class="n">context</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            FlowContext (ankaflow.models.FlowContext)" href="#ankaflow.models.FlowContext">FlowContext</a></span><span class="p">,</span>
    <span class="n">variables</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Variables (ankaflow.models.Variables)" href="#ankaflow.models.Variables">Variables</a></span><span class="p">,</span>
    <span class="n">logger</span><span class="p">:</span> <span class="n"><span title="logging.Logger">Logger</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            Connection (ankaflow.connections.connection.Connection)" href="#ankaflow.connections.connection.Connection">Connection</a></code></p>











  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="ankaflow.connections.bigquery.BigQuery.create_dataset" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">create_dataset</span>


<a href="#ankaflow.connections.bigquery.BigQuery.create_dataset" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">create_dataset</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Creates dataset if it does not exist.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.connections.bigquery.BigQuery.init" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">init</span>


<a href="#ankaflow.connections.bigquery.BigQuery.init" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">init</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Initializes internal configs and client.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.connections.bigquery.BigQuery.locate" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">locate</span>


<a href="#ankaflow.connections.bigquery.BigQuery.locate" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">locate</span><span class="p">(</span>
    <span class="n">name</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">use_wildcard</span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="str">str</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns the fully qualified BigQuery table name using dot notation.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.connections.bigquery.BigQuery.show_schema" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">show_schema</span>


<a href="#ankaflow.connections.bigquery.BigQuery.show_schema" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">show_schema</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="            Fields (ankaflow.models.Fields)" href="#ankaflow.models.Fields">Fields</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Infers runtime schema from BigQuery data (via DuckDB) and returns as Fields.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.connections.bigquery.BigQuery.sink" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">sink</span>


<a href="#ankaflow.connections.bigquery.BigQuery.sink" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">sink</span><span class="p">(</span><span class="n">from_name</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Public entrypoint for writing DuckDB data to BigQuery.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.connections.bigquery.BigQuery.sql" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">sql</span>


<a href="#ankaflow.connections.bigquery.BigQuery.sql" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">sql</span><span class="p">(</span><span class="n">statement</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Any">Any</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Executes a BigQuery SQL statement and logs the result.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.connections.bigquery.BigQuery.tap" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">tap</span>


<a href="#ankaflow.connections.bigquery.BigQuery.tap" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">tap</span><span class="p">(</span><span class="n">query</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="n"><span title="int">int</span></span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Executes a BigQuery query and loads result into DuckDB.</p>


    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h3 id="ankaflow.connections.clickhouse" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">clickhouse</span>


<a href="#ankaflow.connections.clickhouse" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="ankaflow.connections.clickhouse.Clickhouse" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Clickhouse</span>


<a href="#ankaflow.connections.clickhouse.Clickhouse" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">Clickhouse</span><span class="p">(</span>
    <span class="n">duck</span><span class="p">:</span> <span class="n"><span title="ankaflow.internal.DDB">DDB</span></span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span>
    <span class="n">connection</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Connection (ankaflow.models.Connection)" href="#ankaflow.models.Connection">Connection</a></span><span class="p">,</span>
    <span class="n">context</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            FlowContext (ankaflow.models.FlowContext)" href="#ankaflow.models.FlowContext">FlowContext</a></span><span class="p">,</span>
    <span class="n">variables</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Variables (ankaflow.models.Variables)" href="#ankaflow.models.Variables">Variables</a></span><span class="p">,</span>
    <span class="n">logger</span><span class="p">:</span> <span class="n"><span title="logging.Logger">Logger</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            Connection (ankaflow.connections.connection.Connection)" href="#ankaflow.connections.connection.Connection">Connection</a></code></p>











  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="ankaflow.connections.clickhouse.Clickhouse.init" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">init</span>


<a href="#ankaflow.connections.clickhouse.Clickhouse.init" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">init</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Initializes connection-specific defaults.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.connections.clickhouse.Clickhouse.locate" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">locate</span>


<a href="#ankaflow.connections.clickhouse.Clickhouse.locate" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">locate</span><span class="p">(</span>
    <span class="n">name</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">use_wildcard</span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="str">str</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns the fully-qualified table reference with validation.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Table name override (unused).</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>use_wildcard</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Placeholder flag (unused).</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Fully-qualified table name.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If locator format is invalid.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="ankaflow.connections.clickhouse.ClickhouseClient" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">ClickhouseClient</span>


<a href="#ankaflow.connections.clickhouse.ClickhouseClient" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">ClickhouseClient</span><span class="p">(</span><span class="n">cfg</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            ConnectionConfiguration (ankaflow.models.ConnectionConfiguration)" href="#ankaflow.models.ConnectionConfiguration">ConnectionConfiguration</a></span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">


        <p>Initializes a Clickhouse client wrapper.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>cfg</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            ConnectionConfiguration (ankaflow.models.ConnectionConfiguration)" href="#ankaflow.models.ConnectionConfiguration">ConnectionConfiguration</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Connection configuration.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="ankaflow.connections.clickhouse.ClickhouseClient.connect" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">connect</span>


<a href="#ankaflow.connections.clickhouse.ClickhouseClient.connect" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">connect</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Iterator">Iterator</span></span><span class="p">[</span><span class="n"><span title="clickhouse_driver.Client">Client</span></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Context-managed connection that disconnects cleanly.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.connections.clickhouse.ClickhouseClient.insert_dataframe" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">insert_dataframe</span>


<a href="#ankaflow.connections.clickhouse.ClickhouseClient.insert_dataframe" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">insert_dataframe</span><span class="p">(</span>
    <span class="n">client</span><span class="p">:</span> <span class="n"><span title="clickhouse_driver.Client">Client</span></span><span class="p">,</span> <span class="n">query</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n">df</span><span class="p">:</span> <span class="n"><span title="pandas.DataFrame">DataFrame</span></span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Any">Any</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Inserts a DataFrame into Clickhouse using the given query.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.connections.clickhouse.ClickhouseClient.query_df" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">query_df</span>


<a href="#ankaflow.connections.clickhouse.ClickhouseClient.query_df" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">query_df</span><span class="p">(</span><span class="n">client</span><span class="p">:</span> <span class="n"><span title="clickhouse_driver.Client">Client</span></span><span class="p">,</span> <span class="n">query</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="pandas.DataFrame">DataFrame</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Executes a SELECT query and returns a DataFrame.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.connections.clickhouse.ClickhouseClient.stream_query" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">stream_query</span>


<a href="#ankaflow.connections.clickhouse.ClickhouseClient.stream_query" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">stream_query</span><span class="p">(</span>
    <span class="n">client</span><span class="p">:</span> <span class="n"><span title="clickhouse_driver.Client">Client</span></span><span class="p">,</span>
    <span class="n">query</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span>
    <span class="n">block_size</span><span class="p">:</span> <span class="n"><span title="int">int</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Generator">Generator</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Streams ClickHouse query results.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>client</code>
            </td>
            <td>
                  <code><span title="clickhouse_driver.Client">Client</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A live Clickhouse connection.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>query</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>SQL query.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>block_size</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional server-side row block size.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Yields:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Generator">Generator</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>row blocks from ClickHouse.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h3 id="ankaflow.connections.connection" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">connection</span>


<a href="#ankaflow.connections.connection" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="ankaflow.connections.connection.Connection" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Connection</span>


<a href="#ankaflow.connections.connection.Connection" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">Connection</span><span class="p">(</span>
    <span class="n">duck</span><span class="p">:</span> <span class="n"><span title="ankaflow.internal.DDB">DDB</span></span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span>
    <span class="n">connection</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Connection (ankaflow.models.Connection)" href="#ankaflow.models.Connection">Connection</a></span><span class="p">,</span>
    <span class="n">context</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            FlowContext (ankaflow.models.FlowContext)" href="#ankaflow.models.FlowContext">FlowContext</a></span><span class="p">,</span>
    <span class="n">variables</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Variables (ankaflow.models.Variables)" href="#ankaflow.models.Variables">Variables</a></span><span class="p">,</span>
    <span class="n">logger</span><span class="p">:</span> <span class="n"><span title="logging.Logger">Logger</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">


        <p>Base class for connections such as Deltatable or parquet.</p>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="ankaflow.connections.connection.Connection.init" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">init</span>


<a href="#ankaflow.connections.connection.Connection.init" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">init</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Additional initialization called from within
<strong>init</strong>.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.connections.connection.Connection.ranking" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">ranking</span>


<a href="#ankaflow.connections.connection.Connection.ranking" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">ranking</span><span class="p">(</span>
    <span class="n">selectable</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n">query</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n">validate_simple</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="tuple">tuple</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><span title="str">str</span></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Injects row ranking logic to deduplicate records based on versioning.</p>
<p>If the connection defines a <code>version</code> and <code>key</code>, modifies the query
to include a <code>ROW_NUMBER() OVER (...) AS __rank__</code> column and wraps it
in a subquery that can be filtered using <code>WHERE __rank__ = 1</code>.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="tuple">tuple</span>[<span title="str">str</span>, <span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>tuple[str, str]: Transformed SQL query and the WHERE clause if applicable.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.connections.connection.Connection.sink" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">sink</span>


<a href="#ankaflow.connections.connection.Connection.sink" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">sink</span><span class="p">(</span><span class="n">from_name</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Sink or store data from given <code>name</code> (typically previous stage)</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="string">string</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>table name to use as source</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.connections.connection.Connection.sql" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">sql</span>


<a href="#ankaflow.connections.connection.Connection.sql" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">sql</span><span class="p">(</span><span class="n">statement</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Any">Any</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Execute raw sql using the specified connection (if supported).</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.connections.connection.Connection.tap" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">tap</span>


<a href="#ankaflow.connections.connection.Connection.tap" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">tap</span><span class="p">(</span><span class="n">query</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="n"><span title="int">int</span></span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Implements loading from source storage.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>limit</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Reduce the number of rows returned.
Defaults to 0.</p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="ankaflow.connections.connection.Locator" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Locator</span>


<a href="#ankaflow.connections.connection.Locator" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">Locator</span><span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            ConnectionConfiguration (ankaflow.models.ConnectionConfiguration)" href="#ankaflow.models.ConnectionConfiguration">ConnectionConfiguration</a></span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">


        <p>Initializes the Locator with connection configuration.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>config</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            ConnectionConfiguration (ankaflow.models.ConnectionConfiguration)" href="#ankaflow.models.ConnectionConfiguration">ConnectionConfiguration</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Config with bucket, prefix, etc.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="ankaflow.connections.connection.Locator.locate" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">locate</span>


<a href="#ankaflow.connections.connection.Locator.locate" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">locate</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n">use_wildcard</span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="ankaflow.common.path.CommonPath">CommonPath</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Resolves a full path using bucket, prefix, and optional wildcard substitution.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Relative or absolute path string.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>use_wildcard</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to apply wildcard regex substitution.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>CommonPath</code></td>            <td>
                  <code><span title="ankaflow.common.path.CommonPath">CommonPath</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A fully resolved path.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="ankaflow.connections.connection.Schema" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Schema</span>


<a href="#ankaflow.connections.connection.Schema" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">Schema</span><span class="p">(</span><span class="n">duck</span><span class="p">:</span> <span class="n"><span title="ankaflow.internal.DDB">DDB</span></span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">


        <p>Class for working with table schemas</p>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="ankaflow.connections.connection.Schema.generate" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">generate</span>


<a href="#ankaflow.connections.connection.Schema.generate" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">generate</span><span class="p">(</span>
    <span class="n">table</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n">fields</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Fields (ankaflow.models.Fields)" href="#ankaflow.models.Fields">Fields</a></span><span class="p">,</span> <span class="n">exists_ok</span><span class="p">:</span> <span class="n"><span title="bool">bool</span></span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="str">str</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates CREATE TABLE statement from schema.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Table name to create</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            Fields (ankaflow.models.Fields)" href="#ankaflow.models.Fields">Fields</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of fields (names and dtypes)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>exists_ok</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If true then create statement
includes <code>IF NOT EXISTS</code>. Defaults to False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>CREATE statement</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.connections.connection.Schema.show" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">show</span>


<a href="#ankaflow.connections.connection.Schema.show" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">show</span><span class="p">(</span><span class="n">table</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="            Fields (ankaflow.models.Fields)" href="#ankaflow.models.Fields">Fields</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns the schema of a table as a validated Fields model.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>table</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the DuckDB table/view.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            Fields (ankaflow.models.Fields)" href="#ankaflow.models.Fields">Fields</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>m.Fields: List of validated fields.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h3 id="ankaflow.connections.delta" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">delta</span>


<a href="#ankaflow.connections.delta" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="ankaflow.connections.delta.Deltatable" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Deltatable</span>


<a href="#ankaflow.connections.delta.Deltatable" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">Deltatable</span><span class="p">(</span>
    <span class="n">duck</span><span class="p">:</span> <span class="n"><span title="ankaflow.internal.DDB">DDB</span></span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span>
    <span class="n">connection</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Connection (ankaflow.models.Connection)" href="#ankaflow.models.Connection">Connection</a></span><span class="p">,</span>
    <span class="n">context</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            FlowContext (ankaflow.models.FlowContext)" href="#ankaflow.models.FlowContext">FlowContext</a></span><span class="p">,</span>
    <span class="n">variables</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Variables (ankaflow.models.Variables)" href="#ankaflow.models.Variables">Variables</a></span><span class="p">,</span>
    <span class="n">logger</span><span class="p">:</span> <span class="n"><span title="logging.Logger">Logger</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            Connection (ankaflow.connections.connection.Connection)" href="#ankaflow.connections.connection.Connection">Connection</a></code></p>











  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="ankaflow.connections.delta.Deltatable.sink" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">sink</span>


<a href="#ankaflow.connections.delta.Deltatable.sink" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">sink</span><span class="p">(</span><span class="n">from_name</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>DeltaTable sink behavior is driven by available schema and data:</p>
<h6 id="ankaflow.connections.delta.Deltatable.sink--strategy-matrix">Strategy Matrix:<a class="headerlink" href="#ankaflow.connections.delta.Deltatable.sink--strategy-matrix" title="Permanent link">&para;</a></h6>
<table>
<thead>
<tr>
<th>Schema (conn.fields)</th>
<th>Data Available</th>
<th>Resulting Strategy</th>
</tr>
</thead>
<tbody>
<tr>
<td>No</td>
<td>No</td>
<td>SKIP → no action</td>
</tr>
<tr>
<td>Yes</td>
<td>No</td>
<td>CREATE → define schema</td>
</tr>
<tr>
<td>Yes</td>
<td>Yes</td>
<td>WRITE → create &amp; write</td>
</tr>
<tr>
<td>No</td>
<td>Yes</td>
<td>WRITE → infer &amp; write</td>
</tr>
<tr>
<td>--------------------------------------------------------------------</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>When table already exists (is_deltatable):
- CREATE → skip creation, write only if data present
- WRITE  → directly append/merge data to table</p>
<p>Optimizations (vacuum/compact) applied if self.conn.optimize is set.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.connections.delta.Deltatable.sql" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">sql</span>


<a href="#ankaflow.connections.delta.Deltatable.sql" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">sql</span><span class="p">(</span><span class="n">statement</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Executes a limited subset of SQL-like operations on a Delta table.</p>
<p>Supported commands:
- DROP Deltatable
- TRUNCATE Deltatable</p>
<p>All other statements raise an error.</p>


    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h3 id="ankaflow.connections.errors" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">errors</span>


<a href="#ankaflow.connections.errors" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="ankaflow.connections.errors.ConnectionException" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">ConnectionException</span>


<a href="#ankaflow.connections.errors.ConnectionException" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="Exception">Exception</span></code></p>


        <p>Base class for connection errors with optional message redaction.</p>








    </div>

</div>




  </div>

    </div>

</div>


  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="ankaflow.const" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">const</span>


<a href="#ankaflow.const" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">









  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="ankaflow.core" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">core</span>


<a href="#ankaflow.core" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="ankaflow.core.AsyncFlow" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">AsyncFlow</span>


<a href="#ankaflow.core.AsyncFlow" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">AsyncFlow</span><span class="p">(</span>
    <span class="n">defs</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Stages (ankaflow.models.Stages)" href="#ankaflow.models.Stages">Stages</a></span><span class="p">,</span>
    <span class="n">context</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            FlowContext (ankaflow.models.FlowContext)" href="#ankaflow.models.FlowContext">FlowContext</a></span><span class="p">,</span>
    <span class="n">default_connection</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            ConnectionConfiguration (ankaflow.models.ConnectionConfiguration)" href="#ankaflow.models.ConnectionConfiguration">ConnectionConfiguration</a></span><span class="p">,</span>
    <span class="n">variables</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Variables (ankaflow.models.Variables)" href="#ankaflow.models.Variables">Variables</a></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">logger</span><span class="p">:</span> <span class="n"><span title="logging.Logger">Logger</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">conn</span><span class="p">:</span> <span class="n"><span title="ankaflow.internal.DDB">DDB</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">flow_control</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            FlowControl (ankaflow.core.policy.FlowControl)" href="#ankaflow.FlowControl">FlowControl</a></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">log_context</span><span class="p">:</span> <span class="n"><span title="str">str</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">


        <p>Controls the flow of data based on the pipeline definition.</p>
<p>The stages are run in the defined order and can either fetch data
from a source (tap), transform via SQL, or store to a sink.</p>



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>defs</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            Stages (ankaflow.models.Stages)" href="#ankaflow.models.Stages">Stages</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of stages to be processed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>context</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            FlowContext (ankaflow.models.FlowContext)" href="#ankaflow.models.FlowContext">FlowContext</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dynamic context for query templates.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>default_connection</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            ConnectionConfiguration (ankaflow.models.ConnectionConfiguration)" href="#ankaflow.models.ConnectionConfiguration">ConnectionConfiguration</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Configuration passed
to underlying storage or database.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>variables</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            Variables (ankaflow.models.Variables)" href="#ankaflow.models.Variables">Variables</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Variables for tap or prepare.
Defaults to {}.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>logger</code>
            </td>
            <td>
                  <code><span title="logging.Logger">Logger</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Logger for show() requests.
Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>conn</code>
            </td>
            <td>
                  <code><span title="ankaflow.internal.DDB">DDB</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Existing DuckDB connection. If not set, a new
connection is created.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>flow_control</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            FlowControl (ankaflow.core.policy.FlowControl)" href="#ankaflow.FlowControl">FlowControl</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Flow control configuration.
Defaults to FlowControl().</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>log_context</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Log context passed to each stage.
Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>










  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.core.AsyncFlow.log" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">log</span>


<a href="#ankaflow.core.AsyncFlow.log" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">log</span><span class="p">:</span> <span class="n"><span title="logging.Logger">Logger</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns the logger.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.core.AsyncFlow.logs" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">logs</span>


<a href="#ankaflow.core.AsyncFlow.logs" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">logs</span><span class="p">:</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns the log buffer.</p>

    </div>

</div>



<div class="doc doc-object doc-function">


<h4 id="ankaflow.core.AsyncFlow.connect" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">connect</span>


<a href="#ankaflow.core.AsyncFlow.connect" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">connect</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Connects to the underlying database if not already connected.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ankaflow.core.AsyncFlow.df" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">df</span>


<a href="#ankaflow.core.AsyncFlow.df" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">df</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="pandas.DataFrame">DataFrame</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns a dataframe from the last stage.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pd.DataFrame: Data from the last stage.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ankaflow.core.AsyncFlow.pull_df" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">pull_df</span>


<a href="#ankaflow.core.AsyncFlow.pull_df" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">pull_df</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="pandas.DataFrame">DataFrame</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Convenience method to pull the final dataframe.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pd.DataFrame: Data from the last stage.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ankaflow.core.AsyncFlow.run" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">run</span>


<a href="#ankaflow.core.AsyncFlow.run" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">run</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="            AsyncFlow (ankaflow.core.flow.AsyncFlow)" href="#ankaflow.core.flow.AsyncFlow">AsyncFlow</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Runs the pipeline stages.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>AsyncFlow</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="            AsyncFlow (ankaflow.core.flow.AsyncFlow)" href="#ankaflow.core.flow.AsyncFlow">AsyncFlow</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Self instance after running the pipeline.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ankaflow.core.AsyncFlow.show_schema" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">show_schema</span>


<a href="#ankaflow.core.AsyncFlow.show_schema" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">show_schema</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="            SchemaItem (ankaflow.models.SchemaItem)" href="../ankaflow.models/#ankaflow.models.SchemaItem">SchemaItem</a></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns schemas for all supported stages.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="            SchemaItem (ankaflow.models.SchemaItem)" href="../ankaflow.models/#ankaflow.models.SchemaItem">SchemaItem</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>t.List[m.SchemaItem]: List of schema items.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.core.Flow" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Flow</span>


<a href="#ankaflow.core.Flow" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">Flow</span><span class="p">(</span>
    <span class="n">defs</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Stages (ankaflow.models.Stages)" href="#ankaflow.models.Stages">Stages</a></span><span class="p">,</span>
    <span class="n">context</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            FlowContext (ankaflow.models.FlowContext)" href="#ankaflow.models.FlowContext">FlowContext</a></span><span class="p">,</span>
    <span class="n">default_connection</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            ConnectionConfiguration (ankaflow.models.ConnectionConfiguration)" href="#ankaflow.models.ConnectionConfiguration">ConnectionConfiguration</a></span><span class="p">,</span>
    <span class="n">variables</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Variables (ankaflow.models.Variables)" href="#ankaflow.models.Variables">Variables</a></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">logger</span><span class="p">:</span> <span class="n"><span title="logging.Logger">Logger</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">conn</span><span class="p">:</span> <span class="n"><span title="duckdb.DuckDBPyConnection">DuckDBPyConnection</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">flow_control</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            FlowControl (ankaflow.core.policy.FlowControl)" href="#ankaflow.FlowControl">FlowControl</a></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">log_context</span><span class="p">:</span> <span class="n"><span title="str">str</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">


        <p>Flow controls the flow of data based on the pipeline definition.
The stages are run in the defined order and can either fetch data
from source (tap), transform via SQL statement, or store to sink.</p>
<p>This is the sync version and should be used in most cases.</p>



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>defs</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            Stages (ankaflow.models.Stages)" href="#ankaflow.models.Stages">Stages</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of stages to be processed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>context</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            FlowContext (ankaflow.models.FlowContext)" href="#ankaflow.models.FlowContext">FlowContext</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>dynamic context that can be used
in query templates.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>default_connection</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            ConnectionConfiguration (ankaflow.models.ConnectionConfiguration)" href="#ankaflow.models.ConnectionConfiguration">ConnectionConfiguration</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Configuration
passed to underlying storage or database
(s3 bucket, database connection string &amp;c).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>variables</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Any variables that can be referenced
by a tap or prepare. Ony data structures that can be passed
to pl.from_dicts() are supported in taps. Defaults to {}.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>logger</code>
            </td>
            <td>
                  <code><span title="Logger">Logger</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If set then show() requests are logged.
Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>conn</code>
            </td>
            <td>
                  <code><span title="DuckDBPyConnection">DuckDBPyConnection</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Existing DuckDB connection. If not set
new connection will be created.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ankaflow.core.Flow.df" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">df</span>


<a href="#ankaflow.core.Flow.df" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">df</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns dataframe from the last stage</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ankaflow.core.Flow.pull_df" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">pull_df</span>


<a href="#ankaflow.core.Flow.pull_df" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">pull_df</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="pandas.DataFrame">DataFrame</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Convenience method to pull final dataframe</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pl.DataFrame: data from last stage</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ankaflow.core.Flow.show_schema" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">show_schema</span>


<a href="#ankaflow.core.Flow.show_schema" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">show_schema</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="            SchemaItem (ankaflow.models.SchemaItem)" href="../ankaflow.models/#ankaflow.models.SchemaItem">SchemaItem</a></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns schemas of all supported stages</p>


    </div>

</div>



  </div>

    </div>

</div>



<div class="doc doc-object doc-module">



<h3 id="ankaflow.core.flow" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">flow</span>


<a href="#ankaflow.core.flow" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="ankaflow.core.flow.AsyncFlow" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">AsyncFlow</span>


<a href="#ankaflow.core.flow.AsyncFlow" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">AsyncFlow</span><span class="p">(</span>
    <span class="n">defs</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Stages (ankaflow.models.Stages)" href="#ankaflow.models.Stages">Stages</a></span><span class="p">,</span>
    <span class="n">context</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            FlowContext (ankaflow.models.FlowContext)" href="#ankaflow.models.FlowContext">FlowContext</a></span><span class="p">,</span>
    <span class="n">default_connection</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            ConnectionConfiguration (ankaflow.models.ConnectionConfiguration)" href="#ankaflow.models.ConnectionConfiguration">ConnectionConfiguration</a></span><span class="p">,</span>
    <span class="n">variables</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Variables (ankaflow.models.Variables)" href="#ankaflow.models.Variables">Variables</a></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">logger</span><span class="p">:</span> <span class="n"><span title="logging.Logger">Logger</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">conn</span><span class="p">:</span> <span class="n"><span title="ankaflow.internal.DDB">DDB</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">flow_control</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            FlowControl (ankaflow.core.policy.FlowControl)" href="#ankaflow.FlowControl">FlowControl</a></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">log_context</span><span class="p">:</span> <span class="n"><span title="str">str</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">


        <p>Controls the flow of data based on the pipeline definition.</p>
<p>The stages are run in the defined order and can either fetch data
from a source (tap), transform via SQL, or store to a sink.</p>



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>defs</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            Stages (ankaflow.models.Stages)" href="#ankaflow.models.Stages">Stages</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of stages to be processed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>context</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            FlowContext (ankaflow.models.FlowContext)" href="#ankaflow.models.FlowContext">FlowContext</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dynamic context for query templates.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>default_connection</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            ConnectionConfiguration (ankaflow.models.ConnectionConfiguration)" href="#ankaflow.models.ConnectionConfiguration">ConnectionConfiguration</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Configuration passed
to underlying storage or database.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>variables</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            Variables (ankaflow.models.Variables)" href="#ankaflow.models.Variables">Variables</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Variables for tap or prepare.
Defaults to {}.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>logger</code>
            </td>
            <td>
                  <code><span title="logging.Logger">Logger</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Logger for show() requests.
Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>conn</code>
            </td>
            <td>
                  <code><span title="ankaflow.internal.DDB">DDB</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Existing DuckDB connection. If not set, a new
connection is created.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>flow_control</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            FlowControl (ankaflow.core.policy.FlowControl)" href="#ankaflow.FlowControl">FlowControl</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Flow control configuration.
Defaults to FlowControl().</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>log_context</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Log context passed to each stage.
Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>










  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h5 id="ankaflow.core.flow.AsyncFlow.log" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">log</span>


<a href="#ankaflow.core.flow.AsyncFlow.log" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">log</span><span class="p">:</span> <span class="n"><span title="logging.Logger">Logger</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns the logger.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h5 id="ankaflow.core.flow.AsyncFlow.logs" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">logs</span>


<a href="#ankaflow.core.flow.AsyncFlow.logs" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">logs</span><span class="p">:</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns the log buffer.</p>

    </div>

</div>



<div class="doc doc-object doc-function">


<h5 id="ankaflow.core.flow.AsyncFlow.connect" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">connect</span>


<a href="#ankaflow.core.flow.AsyncFlow.connect" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">connect</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Connects to the underlying database if not already connected.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.core.flow.AsyncFlow.df" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">df</span>


<a href="#ankaflow.core.flow.AsyncFlow.df" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">df</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="pandas.DataFrame">DataFrame</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns a dataframe from the last stage.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pd.DataFrame: Data from the last stage.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.core.flow.AsyncFlow.pull_df" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">pull_df</span>


<a href="#ankaflow.core.flow.AsyncFlow.pull_df" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">pull_df</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="pandas.DataFrame">DataFrame</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Convenience method to pull the final dataframe.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pd.DataFrame: Data from the last stage.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.core.flow.AsyncFlow.run" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">run</span>


<a href="#ankaflow.core.flow.AsyncFlow.run" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">run</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="            AsyncFlow (ankaflow.core.flow.AsyncFlow)" href="#ankaflow.core.flow.AsyncFlow">AsyncFlow</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Runs the pipeline stages.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>AsyncFlow</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="            AsyncFlow (ankaflow.core.flow.AsyncFlow)" href="#ankaflow.core.flow.AsyncFlow">AsyncFlow</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Self instance after running the pipeline.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.core.flow.AsyncFlow.show_schema" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">show_schema</span>


<a href="#ankaflow.core.flow.AsyncFlow.show_schema" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">show_schema</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="            SchemaItem (ankaflow.models.SchemaItem)" href="../ankaflow.models/#ankaflow.models.SchemaItem">SchemaItem</a></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns schemas for all supported stages.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="            SchemaItem (ankaflow.models.SchemaItem)" href="../ankaflow.models/#ankaflow.models.SchemaItem">SchemaItem</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>t.List[m.SchemaItem]: List of schema items.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="ankaflow.core.flow.BaseStageHandler" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">BaseStageHandler</span>


<a href="#ankaflow.core.flow.BaseStageHandler" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">BaseStageHandler</span><span class="p">(</span><span class="n">datablock</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Datablock (ankaflow.core.flow.Datablock)" href="#ankaflow.core.flow.Datablock">Datablock</a></span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">


        <p>Abstract base class for stage execution handlers.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="ankaflow.core.flow.BaseStageHandler.datablock">datablock</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            Datablock (ankaflow.core.flow.Datablock)" href="#ankaflow.core.flow.Datablock">Datablock</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The datablock instance holding execution context.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>datablock</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            Datablock (ankaflow.core.flow.Datablock)" href="#ankaflow.core.flow.Datablock">Datablock</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The datablock to be executed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="ankaflow.core.flow.BaseStageHandler.execute" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">execute</span>


<a href="#ankaflow.core.flow.BaseStageHandler.execute" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">execute</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Executes the stage.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>t.Union[str, None]: Result of the stage execution.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="ankaflow.core.flow.Datablock" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Datablock</span>


<a href="#ankaflow.core.flow.Datablock" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">Datablock</span><span class="p">(</span>
    <span class="n">conn</span><span class="p">:</span> <span class="n"><span title="ankaflow.internal.DDB">DDB</span></span><span class="p">,</span>
    <span class="n">defs</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Datablock (ankaflow.models.Datablock)" href="#ankaflow.models.Datablock">Datablock</a></span><span class="p">,</span>
    <span class="n">context</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            FlowContext (ankaflow.models.FlowContext)" href="#ankaflow.models.FlowContext">FlowContext</a></span><span class="p">,</span>
    <span class="n">default_connection</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            ConnectionConfiguration (ankaflow.models.ConnectionConfiguration)" href="#ankaflow.models.ConnectionConfiguration">ConnectionConfiguration</a></span><span class="p">,</span>
    <span class="n">variables</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="            Variables (ankaflow.models.Variables)" href="#ankaflow.models.Variables">Variables</a></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">logger</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="logging.Logger">Logger</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">prevous_stage</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">log_context</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">


        <p>Executable piece of a pipeline.</p>



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>conn</code>
            </td>
            <td>
                  <code><span title="ankaflow.internal.DDB">DDB</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>DuckDB connection.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>defs</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            Datablock (ankaflow.models.Datablock)" href="#ankaflow.models.Datablock">Datablock</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Datablock definition.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>context</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            FlowContext (ankaflow.models.FlowContext)" href="#ankaflow.models.FlowContext">FlowContext</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Context object.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>default_connection</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            ConnectionConfiguration (ankaflow.models.ConnectionConfiguration)" href="#ankaflow.models.ConnectionConfiguration">ConnectionConfiguration</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Global persistent
connection configuration.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>variables</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            Variables (ankaflow.models.Variables)" href="#ankaflow.models.Variables">Variables</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Any variables passed to pipeline.
Defaults to {}.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>logger</code>
            </td>
            <td>
                  <code><span title="logging.Logger">Logger</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If set then messages are sent to
this logger. Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>prevous_stage</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Reference to previous stage, used in
sink to obtain data from. Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>log_context</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional logging context.
Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="ankaflow.core.flow.Datablock.do" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">do</span>


<a href="#ankaflow.core.flow.Datablock.do" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">do</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Executes the current block.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>t.Union[str, None]: Executed block name.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.core.flow.Datablock.prepare" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">prepare</span>


<a href="#ankaflow.core.flow.Datablock.prepare" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">prepare</span><span class="p">(</span><span class="n">src</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Datablock (ankaflow.models.Datablock)" href="#ankaflow.models.Datablock">Datablock</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="            Datablock (ankaflow.models.Datablock)" href="#ankaflow.models.Datablock">Datablock</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Prepare dynamic variables in the block.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>src</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            Datablock (ankaflow.models.Datablock)" href="#ankaflow.models.Datablock">Datablock</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Current block.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            Datablock (ankaflow.models.Datablock)" href="#ankaflow.models.Datablock">Datablock</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>m.Datablock: Block with variables evaluated.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.core.flow.Datablock.render" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">render</span>


<a href="#ankaflow.core.flow.Datablock.render" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">render</span><span class="p">(</span><span class="n">templ</span><span class="p">:</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><span title="ankaflow.models.BaseModel">BaseModel</span></span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n"><span title="str">str</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Evaluates a template string using context and API.</p>


<details class="available-variables-in-the-template" open>
  <summary>Available variables in the template</summary>
  <ul>
<li>context: Context object.</li>
<li>API: API object.</li>
<li>variables: Variables dictionary.</li>
</ul>
</details>

<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>templ</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="ankaflow.models.BaseModel">BaseModel</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Template containing variables.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Evaluated query string.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="ankaflow.core.flow.Flow" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Flow</span>


<a href="#ankaflow.core.flow.Flow" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">Flow</span><span class="p">(</span>
    <span class="n">defs</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Stages (ankaflow.models.Stages)" href="#ankaflow.models.Stages">Stages</a></span><span class="p">,</span>
    <span class="n">context</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            FlowContext (ankaflow.models.FlowContext)" href="#ankaflow.models.FlowContext">FlowContext</a></span><span class="p">,</span>
    <span class="n">default_connection</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            ConnectionConfiguration (ankaflow.models.ConnectionConfiguration)" href="#ankaflow.models.ConnectionConfiguration">ConnectionConfiguration</a></span><span class="p">,</span>
    <span class="n">variables</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Variables (ankaflow.models.Variables)" href="#ankaflow.models.Variables">Variables</a></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">logger</span><span class="p">:</span> <span class="n"><span title="logging.Logger">Logger</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">conn</span><span class="p">:</span> <span class="n"><span title="duckdb.DuckDBPyConnection">DuckDBPyConnection</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">flow_control</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            FlowControl (ankaflow.core.policy.FlowControl)" href="#ankaflow.FlowControl">FlowControl</a></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">log_context</span><span class="p">:</span> <span class="n"><span title="str">str</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">


        <p>Flow controls the flow of data based on the pipeline definition.
The stages are run in the defined order and can either fetch data
from source (tap), transform via SQL statement, or store to sink.</p>
<p>This is the sync version and should be used in most cases.</p>



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>defs</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            Stages (ankaflow.models.Stages)" href="#ankaflow.models.Stages">Stages</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of stages to be processed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>context</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            FlowContext (ankaflow.models.FlowContext)" href="#ankaflow.models.FlowContext">FlowContext</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>dynamic context that can be used
in query templates.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>default_connection</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            ConnectionConfiguration (ankaflow.models.ConnectionConfiguration)" href="#ankaflow.models.ConnectionConfiguration">ConnectionConfiguration</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Configuration
passed to underlying storage or database
(s3 bucket, database connection string &amp;c).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>variables</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Any variables that can be referenced
by a tap or prepare. Ony data structures that can be passed
to pl.from_dicts() are supported in taps. Defaults to {}.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>logger</code>
            </td>
            <td>
                  <code><span title="Logger">Logger</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If set then show() requests are logged.
Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>conn</code>
            </td>
            <td>
                  <code><span title="DuckDBPyConnection">DuckDBPyConnection</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Existing DuckDB connection. If not set
new connection will be created.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="ankaflow.core.flow.Flow.df" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">df</span>


<a href="#ankaflow.core.flow.Flow.df" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">df</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns dataframe from the last stage</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.core.flow.Flow.pull_df" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">pull_df</span>


<a href="#ankaflow.core.flow.Flow.pull_df" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">pull_df</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="pandas.DataFrame">DataFrame</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Convenience method to pull final dataframe</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pl.DataFrame: data from last stage</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.core.flow.Flow.show_schema" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">show_schema</span>


<a href="#ankaflow.core.flow.Flow.show_schema" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">show_schema</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="            SchemaItem (ankaflow.models.SchemaItem)" href="../ankaflow.models/#ankaflow.models.SchemaItem">SchemaItem</a></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns schemas of all supported stages</p>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="ankaflow.core.flow.InternalStageHandler" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">InternalStageHandler</span>


<a href="#ankaflow.core.flow.InternalStageHandler" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">InternalStageHandler</span><span class="p">(</span><span class="n">datablock</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Datablock (ankaflow.core.flow.Datablock)" href="#ankaflow.core.flow.Datablock">Datablock</a></span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            BaseStageHandler (ankaflow.core.flow.BaseStageHandler)" href="#ankaflow.core.flow.BaseStageHandler">BaseStageHandler</a></code></p>


        <p>Handles execution for internal stages.</p>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="ankaflow.core.flow.InternalStageHandler.execute" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">execute</span>


<a href="#ankaflow.core.flow.InternalStageHandler.execute" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">execute</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Executes an internal stage.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>t.Union[str, None]: Name of the created table.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="ankaflow.core.flow.PipelineStageHandler" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">PipelineStageHandler</span>


<a href="#ankaflow.core.flow.PipelineStageHandler" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">PipelineStageHandler</span><span class="p">(</span><span class="n">datablock</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Datablock (ankaflow.core.flow.Datablock)" href="#ankaflow.core.flow.Datablock">Datablock</a></span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            BaseStageHandler (ankaflow.core.flow.BaseStageHandler)" href="#ankaflow.core.flow.BaseStageHandler">BaseStageHandler</a></code></p>


        <p>Handles execution for pipeline stages, including loop implementation.</p>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="ankaflow.core.flow.PipelineStageHandler.execute" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">execute</span>


<a href="#ankaflow.core.flow.PipelineStageHandler.execute" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">execute</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Executes a pipeline stage.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>t.Union[str, None]: Result of the pipeline stage execution.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="ankaflow.core.flow.SQLStageHandler" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">SQLStageHandler</span>


<a href="#ankaflow.core.flow.SQLStageHandler" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">SQLStageHandler</span><span class="p">(</span><span class="n">datablock</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Datablock (ankaflow.core.flow.Datablock)" href="#ankaflow.core.flow.Datablock">Datablock</a></span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            BaseStageHandler (ankaflow.core.flow.BaseStageHandler)" href="#ankaflow.core.flow.BaseStageHandler">BaseStageHandler</a></code></p>


        <p>Handles execution for SQL stages.</p>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="ankaflow.core.flow.SQLStageHandler.execute" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">execute</span>


<a href="#ankaflow.core.flow.SQLStageHandler.execute" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">execute</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Executes an SQL stage.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>t.Union[str, None]: Name of the target object.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="ankaflow.core.flow.SinkStageHandler" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">SinkStageHandler</span>


<a href="#ankaflow.core.flow.SinkStageHandler" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">SinkStageHandler</span><span class="p">(</span><span class="n">datablock</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Datablock (ankaflow.core.flow.Datablock)" href="#ankaflow.core.flow.Datablock">Datablock</a></span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            BaseStageHandler (ankaflow.core.flow.BaseStageHandler)" href="#ankaflow.core.flow.BaseStageHandler">BaseStageHandler</a></code></p>


        <p>Handles execution for sink stages.</p>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="ankaflow.core.flow.SinkStageHandler.execute" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">execute</span>


<a href="#ankaflow.core.flow.SinkStageHandler.execute" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">execute</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Executes a sink stage.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>t.Union[str, None]: None.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="ankaflow.core.flow.StageFactory" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">StageFactory</span>


<a href="#ankaflow.core.flow.StageFactory" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">


        <p>Factory to obtain the appropriate stage handler based on stage kind.</p>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="ankaflow.core.flow.StageFactory.get_handler" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">get_handler</span>


<a href="#ankaflow.core.flow.StageFactory.get_handler" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">get_handler</span><span class="p">(</span><span class="n">datablock</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Datablock (ankaflow.core.flow.Datablock)" href="#ankaflow.core.flow.Datablock">Datablock</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="            BaseStageHandler (ankaflow.core.flow.BaseStageHandler)" href="#ankaflow.core.flow.BaseStageHandler">BaseStageHandler</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Creates a stage handler instance.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>datablock</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            Datablock (ankaflow.core.flow.Datablock)" href="#ankaflow.core.flow.Datablock">Datablock</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The datablock instance.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>BaseStageHandler</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="            BaseStageHandler (ankaflow.core.flow.BaseStageHandler)" href="#ankaflow.core.flow.BaseStageHandler">BaseStageHandler</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The corresponding stage handler.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="ankaflow.core.flow.TapStageHandler" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">TapStageHandler</span>


<a href="#ankaflow.core.flow.TapStageHandler" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">TapStageHandler</span><span class="p">(</span><span class="n">datablock</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Datablock (ankaflow.core.flow.Datablock)" href="#ankaflow.core.flow.Datablock">Datablock</a></span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            BaseStageHandler (ankaflow.core.flow.BaseStageHandler)" href="#ankaflow.core.flow.BaseStageHandler">BaseStageHandler</a></code></p>


        <p>Handles execution for source stages.</p>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="ankaflow.core.flow.TapStageHandler.execute" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">execute</span>


<a href="#ankaflow.core.flow.TapStageHandler.execute" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">execute</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Executes a source stage.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>t.Union[str, None]: Name of the created source table.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="ankaflow.core.flow.TransformStageHandler" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">TransformStageHandler</span>


<a href="#ankaflow.core.flow.TransformStageHandler" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">TransformStageHandler</span><span class="p">(</span><span class="n">datablock</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Datablock (ankaflow.core.flow.Datablock)" href="#ankaflow.core.flow.Datablock">Datablock</a></span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            BaseStageHandler (ankaflow.core.flow.BaseStageHandler)" href="#ankaflow.core.flow.BaseStageHandler">BaseStageHandler</a></code></p>


        <p>Handles execution for transform stages.</p>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="ankaflow.core.flow.TransformStageHandler.execute" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">execute</span>


<a href="#ankaflow.core.flow.TransformStageHandler.execute" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">execute</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Executes a transform stage.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>t.Union[str, None]: Name of the created view.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>


  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="ankaflow.errors" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">errors</span>


<a href="#ankaflow.errors" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">









  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="ankaflow.internal" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">internal</span>


<a href="#ankaflow.internal" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">









  <div class="doc doc-children">










<div class="doc doc-object doc-module">



<h3 id="ankaflow.internal.browser" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">browser</span>


<a href="#ankaflow.internal.browser" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="ankaflow.internal.browser.DDB" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">DDB</span>


<a href="#ankaflow.internal.browser.DDB" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">DDB</span><span class="p">(</span>
    <span class="n">connection_options</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            ConnectionConfiguration (ankaflow.models.ConnectionConfiguration)" href="#ankaflow.models.ConnectionConfiguration">ConnectionConfiguration</a></span><span class="p">,</span>
    <span class="n">persisted</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">


        <p>Initializes the DuckDB browser-bound client.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>connection_options</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            ConnectionConfiguration (ankaflow.models.ConnectionConfiguration)" href="#ankaflow.models.ConnectionConfiguration">ConnectionConfiguration</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Connection settings.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="ankaflow.internal.browser.DDB.connect" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">connect</span>


<a href="#ankaflow.internal.browser.DDB.connect" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">connect</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="            DDB (ankaflow.internal.browser.DDB)" href="#ankaflow.internal.browser.DDB">DDB</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Establishes a DuckDB connection and initializes context.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.internal.browser.DDB.delta_scan" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">delta_scan</span>


<a href="#ankaflow.internal.browser.DDB.delta_scan" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">delta_scan</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Stub for unsupported delta_scan.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.internal.browser.DDB.get" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">get</span>


<a href="#ankaflow.internal.browser.DDB.get" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">get</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="duckdb.DuckDBPyConnection">DuckDBPyConnection</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns the internal DuckDB connection object.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.internal.browser.DDB.inject_secrets" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">inject_secrets</span>


<a href="#ankaflow.internal.browser.DDB.inject_secrets" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">inject_secrets</span><span class="p">(</span>
    <span class="n">name</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n">connection_options</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            ConnectionConfiguration (ankaflow.models.ConnectionConfiguration)" href="#ankaflow.models.ConnectionConfiguration">ConnectionConfiguration</a></span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Injects secret configuration dynamically.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Secret identifier.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>connection_options</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            ConnectionConfiguration (ankaflow.models.ConnectionConfiguration)" href="#ankaflow.models.ConnectionConfiguration">ConnectionConfiguration</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Configuration details.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.internal.browser.DDB.parquet_scan" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">parquet_scan</span>


<a href="#ankaflow.internal.browser.DDB.parquet_scan" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">parquet_scan</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Stub for unsupported parquet_scan.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.internal.browser.DDB.read_csv" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">read_csv</span>


<a href="#ankaflow.internal.browser.DDB.read_csv" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">read_csv</span><span class="p">(</span>
    <span class="n">data</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n">read_opts</span><span class="p">:</span> <span class="n"><span title="dict">dict</span></span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="duckdb.DuckDBPyRelation">DuckDBPyRelation</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Reads CSV data into a DuckDB table.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>File path or URL.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>table</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Target table name.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>read_opts</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Options passed to DuckDB read_csv().</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="duckdb.DuckDBPyRelation">DuckDBPyRelation</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>duckdb.DuckDBPyRelation: The resulting table.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.internal.browser.DDB.read_json" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">read_json</span>


<a href="#ankaflow.internal.browser.DDB.read_json" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">read_json</span><span class="p">(</span>
    <span class="n">data</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n">read_opts</span><span class="p">:</span> <span class="n"><span title="dict">dict</span></span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="duckdb.DuckDBPyRelation">DuckDBPyRelation</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Reads JSON data into a DuckDB table.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>File path or URL.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>table</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Target table name.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>read_opts</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Options passed to DuckDB read_json().</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="duckdb.DuckDBPyRelation">DuckDBPyRelation</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>duckdb.DuckDBPyRelation: The resulting table.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.internal.browser.DDB.read_parquet" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">read_parquet</span>


<a href="#ankaflow.internal.browser.DDB.read_parquet" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">read_parquet</span><span class="p">(</span>
    <span class="n">data</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n">read_opts</span><span class="p">:</span> <span class="n"><span title="dict">dict</span></span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="duckdb.DuckDBPyRelation">DuckDBPyRelation</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Reads Parquet data into a DuckDB table.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>File path or URL.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>table</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Target table name.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>read_opts</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Options passed to DuckDB read_parquet().</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="duckdb.DuckDBPyRelation">DuckDBPyRelation</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>duckdb.DuckDBPyRelation: The resulting table.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.internal.browser.DDB.register" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">register</span>


<a href="#ankaflow.internal.browser.DDB.register" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">register</span><span class="p">(</span><span class="n">view_name</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="nb">object</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Registers a Python object as a DuckDB view.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>view_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>View name.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>object</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Python object to register.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.internal.browser.DDB.sql" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">sql</span>


<a href="#ankaflow.internal.browser.DDB.sql" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">sql</span><span class="p">(</span><span class="n">query</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="            Relation (ankaflow.internal.browser.Relation)" href="#ankaflow.internal.browser.Relation">Relation</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Executes a DuckDB SQL query after intercepting remote I/O references.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>query</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>SQL string.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Relation</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="            Relation (ankaflow.internal.browser.Relation)" href="#ankaflow.internal.browser.Relation">Relation</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Resulting relation object.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.internal.browser.DDB.unregister" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">unregister</span>


<a href="#ankaflow.internal.browser.DDB.unregister" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">unregister</span><span class="p">(</span><span class="n">view_name</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Unregisters a DuckDB view.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>view_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>View name to remove.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="ankaflow.internal.browser.DuckDBIORewriter" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">DuckDBIORewriter</span>


<a href="#ankaflow.internal.browser.DuckDBIORewriter" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">DuckDBIORewriter</span><span class="p">(</span>
    <span class="n">remote</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            RemoteObject (ankaflow.internal.browser.RemoteObject)" href="#ankaflow.internal.browser.RemoteObject">RemoteObject</a></span><span class="p">,</span> <span class="n">filesystem</span><span class="p">:</span> <span class="n"><span title="ankaflow.common.filesystem.FileSystem">FileSystem</span></span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">


        <p>Intercepts and rewrites DuckDB read_*() calls that reference remote paths.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>scope</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>scope of the current rewrite (stage name)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>remote</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            RemoteObject (ankaflow.internal.browser.RemoteObject)" href="#ankaflow.internal.browser.RemoteObject">RemoteObject</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Remote downloader/uploader.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>filesystem</code>
            </td>
            <td>
                  <code><span title="ankaflow.common.filesystem.FileSystem">FileSystem</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Local filesystem to store downloaded content.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="ankaflow.internal.browser.DuckDBIORewriter.rewrite" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">rewrite</span>


<a href="#ankaflow.internal.browser.DuckDBIORewriter.rewrite" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">rewrite</span><span class="p">(</span><span class="n">query</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="str">str</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Rewrites read_*() calls with remote URIs to local paths.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>query</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The SQL query string.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The rewritten query.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="NotImplementedError">NotImplementedError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>For globs or multi-file remote reads.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="ankaflow.internal.browser.Relation" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Relation</span>


<a href="#ankaflow.internal.browser.Relation" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">Relation</span><span class="p">(</span><span class="n">relation</span><span class="p">:</span> <span class="n"><span title="duckdb.DuckDBPyRelation">DuckDBPyRelation</span></span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">


        <p>Wraps a DuckDBPyRelation for async compatibility.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>relation</code>
            </td>
            <td>
                  <code><span title="duckdb.DuckDBPyRelation">DuckDBPyRelation</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>DuckDB relation object.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="ankaflow.internal.browser.Relation.df" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">df</span>


<a href="#ankaflow.internal.browser.Relation.df" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">df</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="pandas.DataFrame">DataFrame</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns the relation as a pandas DataFrame.</p>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="ankaflow.internal.browser.RemoteObject" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">RemoteObject</span>


<a href="#ankaflow.internal.browser.RemoteObject" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">RemoteObject</span><span class="p">(</span><span class="n">secrets</span><span class="p">:</span> <span class="n"><span title="dict">dict</span></span><span class="p">,</span> <span class="n">fs</span><span class="p">:</span> <span class="n"><span title="ankaflow.common.filesystem.FileSystem">FileSystem</span></span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">


        <p>Initializes a RemoteObject handler.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>secrets</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Credentials or connection metadata.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>fs</code>
            </td>
            <td>
                  <code><span title="ankaflow.common.filesystem.FileSystem">FileSystem</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>File system handler to save fetched content.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="ankaflow.internal.browser.RemoteObject.fetch" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">fetch</span>


<a href="#ankaflow.internal.browser.RemoteObject.fetch" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">fetch</span><span class="p">(</span><span class="n">remote_path</span><span class="p">:</span> <span class="n"><span title="ankaflow.common.path.RemotePath">RemotePath</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="bytes">bytes</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Downloads the content at the remote path.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>remote_path</code>
            </td>
            <td>
                  <code><span title="ankaflow.common.path.RemotePath">RemotePath</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The remote object URI.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bytes</code></td>            <td>
                  <code><span title="bytes">bytes</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Content fetched from the remote URL.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="IOError">IOError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If fetch fails due to network or CORS.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ankaflow.internal.browser.RemoteObject.upload" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">upload</span>


<a href="#ankaflow.internal.browser.RemoteObject.upload" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">upload</span><span class="p">(</span><span class="n">remote_path</span><span class="p">:</span> <span class="n"><span title="ankaflow.common.path.RemotePath">RemotePath</span></span><span class="p">,</span> <span class="n">local_file</span><span class="p">:</span> <span class="n"><span title="str">str</span></span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Uploads a local file to a remote path (stub).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>remote_path</code>
            </td>
            <td>
                  <code><span title="ankaflow.common.path.RemotePath">RemotePath</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Destination remote URI.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>local_file</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to the local file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="NotImplementedError">NotImplementedError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Always.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h3 id="ankaflow.internal.duckdb" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">duckdb</span>


<a href="#ankaflow.internal.duckdb" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="ankaflow.internal.duckdb.Relation" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Relation</span>


<a href="#ankaflow.internal.duckdb.Relation" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="abc.ABC">ABC</span></code></p>


        <p>Relation is an async shim
similar to DuckDBPyRelation object</p>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="ankaflow.internal.duckdb.Relation.raw" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">raw</span>


<a href="#ankaflow.internal.duckdb.Relation.raw" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">raw</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="duckdb.DuckDBPyRelation">DuckDBPyRelation</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Exposes underlying native DuckDBPyRelation with full api.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="duckdb.DuckDBPyRelation">DuckDBPyRelation</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>DuckDBPyRelation</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h3 id="ankaflow.internal.macros" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">macros</span>


<a href="#ankaflow.internal.macros" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="ankaflow.internal.macros.Fn" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Fn</span>


<a href="#ankaflow.internal.macros.Fn" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">


        <p>Miscellaneous utility and convenience macros (UDFs)</p>










  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h5 id="ankaflow.internal.macros.Fn.dt" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">dt</span>


<a href="#ankaflow.internal.macros.Fn.dt" class="headerlink" title="Permanent link">&para;</a></h5>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">dt</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">    (a, fail_on_error := FALSE) AS</span><span class="se">\n</span><span class="s2">    CASE</span><span class="se">\n</span><span class="s2">        -- Case 1: ISO string with optional timezone → strip and cast</span><span class="se">\n</span><span class="s2">        WHEN TRY_CAST(REGEXP_REPLACE(CAST(a AS TEXT), &#39;(Z|[+-][0-9]</span><span class="si">{2}</span><span class="s2">:[0-9]</span><span class="si">{2}</span><span class="s2">)$&#39;, &#39;&#39;) AS TIMESTAMP) IS NOT NULL</span><span class="se">\n</span><span class="s2">            THEN CAST(REGEXP_REPLACE(CAST(a AS TEXT), &#39;(Z|[+-][0-9]</span><span class="si">{2}</span><span class="s2">:[0-9]</span><span class="si">{2}</span><span class="s2">)$&#39;, &#39;&#39;) AS TIMESTAMP)</span><span class="se">\n\n</span><span class="s2">        -- Case 2: Standard timestamp string</span><span class="se">\n</span><span class="s2">        WHEN TRY_CAST(a AS TIMESTAMP) IS NOT NULL</span><span class="se">\n</span><span class="s2">            THEN CAST(a AS TIMESTAMP)</span><span class="se">\n\n</span><span class="s2">        -- Case 3: ISO-style date</span><span class="se">\n</span><span class="s2">        WHEN TRY_CAST(a AS DATE) IS NOT NULL</span><span class="se">\n</span><span class="s2">            THEN CAST(a AS TIMESTAMP)</span><span class="se">\n\n</span><span class="s2">        -- Case 4: Unix time in seconds (int or float)</span><span class="se">\n</span><span class="s2">        WHEN TRY_CAST(a AS DOUBLE) IS NOT NULL</span><span class="se">\n</span><span class="s2">            AND CAST(a AS TEXT) ~ &#39;^[0-9]+(</span><span class="se">\\</span><span class="s2">.[0-9]+)?$&#39;</span><span class="se">\n</span><span class="s2">            AND TRY_CAST(CAST(a AS DOUBLE) AS BIGINT) BETWEEN 1000000000 AND 9999999999</span><span class="se">\n</span><span class="s2">        THEN make_timestamp(CAST(CAST(a AS DOUBLE) * 1000000 AS BIGINT))  -- seconds → microseconds</span><span class="se">\n\n\n</span><span class="s2">        -- Case 5: nanoseconds (length &gt; 15)</span><span class="se">\n</span><span class="s2">        WHEN TRY_CAST(a AS BIGINT) IS NOT NULL</span><span class="se">\n</span><span class="s2">            AND CAST(a AS TEXT) ~ &#39;^[0-9]+$&#39;</span><span class="se">\n</span><span class="s2">            AND LENGTH(CAST(a AS TEXT)) &gt; 15</span><span class="se">\n</span><span class="s2">            THEN make_timestamp(CAST(TRY_CAST(a AS BIGINT) / 1000 AS BIGINT))</span><span class="se">\n\n</span><span class="s2">        -- Case 6: milliseconds</span><span class="se">\n</span><span class="s2">        WHEN TRY_CAST(a AS BIGINT) IS NOT NULL</span><span class="se">\n</span><span class="s2">            AND CAST(a AS TEXT) ~ &#39;^[0-9]+$&#39;</span><span class="se">\n</span><span class="s2">            THEN make_timestamp(CAST(TRY_CAST(a AS BIGINT) * 1000 AS BIGINT))</span><span class="se">\n\n</span><span class="s2">        -- Case 7: Explicit fail for other strings</span><span class="se">\n</span><span class="s2">        WHEN TYPEOF(a) = &#39;VARCHAR&#39; AND LENGTH(CAST(a AS TEXT)) &gt; 1 AND fail_on_error = TRUE</span><span class="se">\n</span><span class="s2">            THEN CAST(&#39;Unsupported format - use Fn.dt(value, pattern)&#39; AS TIMESTAMP)</span><span class="se">\n\n</span><span class="s2">        -- Fallback</span><span class="se">\n</span><span class="s2">        ELSE make_timestamp(0)</span><span class="se">\n</span><span class="s2">    END,</span><span class="se">\n</span><span class="s2">    (value, pattern) AS (</span><span class="se">\n</span><span class="s2">            SELECT * FROM query(</span><span class="se">\n</span><span class="s2">                concat(</span><span class="se">\n</span><span class="s2">                    &#39;SELECT STRPTIME(&#39;&#39;&#39;,</span><span class="se">\n\n</span><span class="s2">                    -- Strip TZ suffix from value</span><span class="se">\n</span><span class="s2">                    REGEXP_REPLACE(value, &#39;(Z|[+-][0-9]</span><span class="si">{2}</span><span class="s2">:[0-9]</span><span class="si">{2}</span><span class="s2">|[A-Za-z/_]+)$&#39;, &#39;&#39;),</span><span class="se">\n\n</span><span class="s2">                    &#39;&#39;&#39;,&#39;&#39;&#39;,</span><span class="se">\n\n</span><span class="s2">                    -- Auto-detect and convert human-readable patterns</span><span class="se">\n</span><span class="s2">                    CASE</span><span class="se">\n</span><span class="s2">                        WHEN POSITION(&#39;%&#39; IN pattern) &gt; 0 THEN</span><span class="se">\n</span><span class="s2">                            REGEXP_REPLACE(REGEXP_REPLACE(pattern, &#39;%z&#39;, &#39;&#39;), &#39;%Z&#39;, &#39;&#39;)</span><span class="se">\n</span><span class="s2">                        ELSE</span><span class="se">\n</span><span class="s2">                            REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(</span><span class="se">\n</span><span class="s2">                                pattern,</span><span class="se">\n</span><span class="s2">                                &#39;YYYY&#39;, &#39;%Y&#39;),</span><span class="se">\n</span><span class="s2">                                &#39;MM&#39;, &#39;%m&#39;),</span><span class="se">\n</span><span class="s2">                                &#39;DD&#39;, &#39;</span><span class="si">%d</span><span class="s2">&#39;),</span><span class="se">\n</span><span class="s2">                                &#39;HH&#39;, &#39;%H&#39;),</span><span class="se">\n</span><span class="s2">                                &#39;mm&#39;, &#39;%M&#39;),</span><span class="se">\n</span><span class="s2">                                &#39;ss&#39;, &#39;%S&#39;)</span><span class="se">\n</span><span class="s2">                    END,</span><span class="se">\n\n</span><span class="s2">                    &#39;&#39;&#39;)&#39;</span><span class="se">\n</span><span class="s2">                )</span><span class="se">\n</span><span class="s2">            )</span><span class="se">\n</span><span class="s2">        );</span><span class="se">\n</span><span class="s2">    &quot;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>dt macro provides robust datetime parsing and normalization.</p>
<p>Overload (a):
    Accepts any input value and attempts to convert it to a TIMESTAMP.
    - Supports TIMESTAMP_NS, TIMESTAMP, DATE, and BIGINT (UNIX ms).
    - Automatically strips time zone suffixes (Z or ±HH:MM) from strings.
    - Fails with a descriptive error if input is unrecognized.</p>
<p>Overload (value, pattern):
    Dynamically parses a string using STRPTIME.
    - Strips unsupported time zone suffixes (Z or ±HH:MM) from input.
    - Removes %z and %Z from format string, as DuckDB does not interpret timezones.
    - Uses query() to compile a literal SQL expression for parsing.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A DuckDB TIMESTAMP or a hard failure on invalid input.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>





  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h3 id="ankaflow.internal.server" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">server</span>


<a href="#ankaflow.internal.server" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="ankaflow.internal.server.DDB" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">DDB</span>


<a href="#ankaflow.internal.server.DDB" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">DDB</span><span class="p">(</span>
    <span class="n">connection_options</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            ConnectionConfiguration (ankaflow.models.ConnectionConfiguration)" href="#ankaflow.models.ConnectionConfiguration">ConnectionConfiguration</a></span><span class="p">,</span>
    <span class="n">persisted</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">











  <div class="doc doc-children">











  </div>

    </div>

</div>




  </div>

    </div>

</div>


  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="ankaflow.models" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">models</span>


<a href="#ankaflow.models" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.AuthType" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">AuthType</span>


<a href="#ankaflow.models.AuthType" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="enum.Enum">Enum</span></code></p>


        










  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.BasicHandler" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">BasicHandler</span>


<a href="#ankaflow.models.BasicHandler" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>A no-op response handler used when no special processing
(like pagination or transformation) is required.</p>
<p>Typically used for single-response REST endpoints where the
entire payload is returned in one request.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            kind (ankaflow.models.BasicHandler.kind)" href="#ankaflow.models.BasicHandler.kind">kind</a></code></td>
            <td>
                  <code><span title="Literal">Literal</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Specifies the handler type as BASIC.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>










  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.BasicHandler.kind" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">kind</span>


<a href="#ankaflow.models.BasicHandler.kind" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">kind</span><span class="p">:</span> <span class="n"><span title="typing.Literal">Literal</span></span><span class="p">[</span><span class="n"><span title="ankaflow.models.ResponseHandlerTypes.BASIC">BASIC</span></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Specifies the handler type as Basic.</p>

    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.BigQuery" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">BigQuery</span>


<a href="#ankaflow.models.BigQuery" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            Connection (ankaflow.models.Connection)" href="#ankaflow.models.Connection">Connection</a></code></p>


        










  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.BigQueryConfig" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">BigQueryConfig</span>


<a href="#ankaflow.models.BigQueryConfig" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Configuration for accessing BigQuery datasets.</p>










  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.BigQueryConfig.credential_file" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">credential_file</span>


<a href="#ankaflow.models.BigQueryConfig.credential_file" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">credential_file</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Path to service account JSON credentials for BigQuery access.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.BigQueryConfig.dataset" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">dataset</span>


<a href="#ankaflow.models.BigQueryConfig.dataset" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">dataset</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>BigQuery dataset name.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.BigQueryConfig.project" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">project</span>


<a href="#ankaflow.models.BigQueryConfig.project" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">project</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>GCP project ID containing the BigQuery dataset.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.BigQueryConfig.region" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">region</span>


<a href="#ankaflow.models.BigQueryConfig.region" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">region</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>BigQuery region (e.g., "us-central1").</p>

    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.BucketConfig" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">BucketConfig</span>


<a href="#ankaflow.models.BucketConfig" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>











  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.BucketConfig.bucket" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">bucket</span>


<a href="#ankaflow.models.BucketConfig.bucket" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">bucket</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Bucket name eg. <code>s3://my-bucket</code>
or local absolute path eg. <code>/data/path</code></p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.BucketConfig.data_prefix" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">data_prefix</span>


<a href="#ankaflow.models.BucketConfig.data_prefix" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">data_prefix</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Prefix for data files: <code>s3://my-bucket/&lt;prefix&gt;</code> or
<code>/data/path/&lt;prefix&gt;</code></p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.BucketConfig.locator_wildcard" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">locator_wildcard</span>


<a href="#ankaflow.models.BucketConfig.locator_wildcard" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">locator_wildcard</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="typing.Tuple">Tuple</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Regular expression and wildcard to modify <code>locator</code>.
Useful in cases when you sink data to <code>data-YYYY.parquet</code>
but want to read <code>data-*.parquet</code>.
Provide tuple with patten as first element and replacement
as second one. Example:</p>
<pre><code>('-\d{4}-', '*')
</code></pre>
<p>This will create wildcard for <code>data-YYYY-base.parquet</code> as
<code>data*base.parquet</code>.</p>
<table>
<thead>
<tr>
<th>Wildcard</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>*</code></td>
<td>matches any number of any characters (including none)</td>
</tr>
<tr>
<td><code>**</code></td>
<td>matches any number of subdirectories (including none)</td>
</tr>
<tr>
<td><code>[abc]</code></td>
<td>matches one character given in the bracket</td>
</tr>
<tr>
<td><code>[a-z]</code></td>
<td>matches one character from the range given in the bracket</td>
</tr>
</tbody>
</table>
<p>Wildcard is automatically applied in tap and show_schema operations.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.BucketConfig.region" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">region</span>


<a href="#ankaflow.models.BucketConfig.region" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">region</span><span class="p">:</span> <span class="n"><span title="str">str</span></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        

    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.CSV" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">CSV</span>


<a href="#ankaflow.models.CSV" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            Connection (ankaflow.models.Connection)" href="#ankaflow.models.Connection">Connection</a></code></p>


        










  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.Clickhouse" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Clickhouse</span>


<a href="#ankaflow.models.Clickhouse" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            Connection (ankaflow.models.Connection)" href="#ankaflow.models.Connection">Connection</a></code></p>


        










  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.ClickhouseConfig" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">ClickhouseConfig</span>


<a href="#ankaflow.models.ClickhouseConfig" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            DatabaseConfig (ankaflow.models.DatabaseConfig)" href="#ankaflow.models.DatabaseConfig">DatabaseConfig</a></code></p>


        <p>Configuration for ClickHouse database, extending generic SQL config.</p>










  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.ClickhouseConfig.blocksize" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">blocksize</span>


<a href="#ankaflow.models.ClickhouseConfig.blocksize" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">blocksize</span><span class="p">:</span> <span class="n"><span title="int">int</span></span> <span class="o">=</span> <span class="mi">50000</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Number of rows to process per block for batch operations.</p>

    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.Connection" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Connection</span>


<a href="#ankaflow.models.Connection" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>











  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Connection.config" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">config</span>


<a href="#ankaflow.models.Connection.config" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">config</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="            ConnectionConfiguration (ankaflow.models.ConnectionConfiguration)" href="#ankaflow.models.ConnectionConfiguration">ConnectionConfiguration</a></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Optional configuration for the current connection.
If not present then global configuration will be used.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Connection.create_statement" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">create_statement</span>


<a href="#ankaflow.models.Connection.create_statement" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">create_statement</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Create statement for given table. Must be in requested dialect.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Connection.data_mode" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">data_mode</span>


<a href="#ankaflow.models.Connection.data_mode" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">data_mode</span><span class="p">:</span> <span class="n"><span title="str">str</span></span> <span class="o">=</span> <span class="s1">&#39;error&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Data mode for write operation. For Deltatable
valid options are:</p>
<ul>
<li><code>append</code> adds new data</li>
<li><code>overwrite</code> replaces all data</li>
<li><code>error</code> fails (table is read-only)</li>
</ul>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Connection.fields" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">fields</span>


<a href="#ankaflow.models.Connection.fields" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">fields</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="            Fields (ankaflow.models.Fields)" href="#ankaflow.models.Fields">Fields</a></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>If set then schema is used to generate source structure
in case actual source does not provide data in which case
generation of ephemeral view fails.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Connection.key" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">key</span>


<a href="#ankaflow.models.Connection.key" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">key</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>List of versioned fields</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Connection.kind" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">kind</span>


<a href="#ankaflow.models.Connection.kind" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">kind</span><span class="p">:</span> <span class="n"><span title="str">str</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Model type e.g. Deltatable, Bigquery, Clickhouse, Parquet, File
Custom connections can be loaded from module.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Connection.locator" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">locator</span>


<a href="#ankaflow.models.Connection.locator" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">locator</span><span class="p">:</span> <span class="n"><span title="str">str</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Table name or file name or URI, or other identifier
required by the connection.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Connection.optimize" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">optimize</span>


<a href="#ankaflow.models.Connection.optimize" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">optimize</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><span title="int">int</span></span><span class="p">]]</span> <span class="o">=</span> <span class="mi">1</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Use with Deltatable and other engines whether to optimize
after each sink operation. With larger tables this may be a
lengthy synchronous operation.</p>
<p>Default value is optimize and vacuum with 7 day retention.</p>
<h5 id="ankaflow.models.Connection.optimize--deltatable">Deltatable<a class="headerlink" href="#ankaflow.models.Connection.optimize--deltatable" title="Permanent link">&para;</a></h5>
<p>Values are <code>optimize,vacuum,all,Literal[int]</code>.
  If value is literal int is provided then parts older than
  number of days will be removed. Note that this will override
  default retention days.</p>
<p>String options <code>vacuum,all</code> are equivalent to 0.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Connection.params" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">params</span>


<a href="#ankaflow.models.Connection.params" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">params</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="dict">dict</span></span><span class="p">]</span> <span class="o">=</span> <span class="n"><span title="pydantic.Field">Field</span></span><span class="p">(</span><span class="n"><span title="pydantic.Field(default_factory)">default_factory</span></span><span class="o">=</span><span class="n"><span title="dict">dict</span></span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Any parameters that can be passed to connection.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Connection.partition" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">partition</span>


<a href="#ankaflow.models.Connection.partition" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">partition</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>If set then delta table is partitioned using
specified fields for faster reads</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Connection.schema_mode" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">schema_mode</span>


<a href="#ankaflow.models.Connection.schema_mode" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">schema_mode</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Deltatable schema behaviour. If not set then write fails
with error in case the data schema does not match existing
table schema.</p>
<p>Schema evolution options:</p>
<ul>
<li><code>merge</code> adds new columns from data</li>
<li><code>overwrite</code> adds new columns, drops missing</li>
</ul>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Connection.show_schema" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">show_schema</span>


<a href="#ankaflow.models.Connection.show_schema" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">show_schema</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="bool">bool</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>If true then schema is automatically detected from
the input data and logged
'</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Connection.version" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">version</span>


<a href="#ankaflow.models.Connection.version" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">version</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Field for record version timestamp</p>

    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.ConnectionConfiguration" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">ConnectionConfiguration</span>


<a href="#ankaflow.models.ConnectionConfiguration" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Top-level container for all connection configurations in a pipeline.</p>
<p>Includes default configuration blocks for supported sources and sinks like:
- Local file systems
- S3 and GCS buckets
- BigQuery datasets
- ClickHouse databases</p>
<p>These can be customized per pipeline or extended with new sources.</p>


<details class="example" open>
  <summary>Example</summary>
  <p>To support MySQL, you can define a new model like this:</p>
<pre><code class="language-python">class MySQLConfig(DatabaseConfig):
    pass  # You can add MySQL-specific fields here if needed

class ExtendedConnectionConfiguration(ConnectionConfiguration):
    mysql: MySQLConfig = PydanticField(default_factory=MySQLConfig)
</code></pre>
<p>This will allow you to specify MySQL connection settings in your YAML:</p>
<pre><code class="language-yaml">connection:
  kind: MySQL
  config:
    host: localhost
    port: 3306
    database: sales
    username: admin
    password: secret
</code></pre>
</details>









  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.ConnectionConfiguration.bigquery" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">bigquery</span>


<a href="#ankaflow.models.ConnectionConfiguration.bigquery" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">bigquery</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            BigQueryConfig (ankaflow.models.BigQueryConfig)" href="#ankaflow.models.BigQueryConfig">BigQueryConfig</a></span> <span class="o">=</span> <span class="n"><span title="pydantic.Field">Field</span></span><span class="p">(</span>
    <span class="n"><span title="pydantic.Field(default_factory)">default_factory</span></span><span class="o">=</span><span class="n"><a class="autorefs autorefs-internal" title="            BigQueryConfig (ankaflow.models.BigQueryConfig)" href="#ankaflow.models.BigQueryConfig">BigQueryConfig</a></span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>BigQuery connection configuration.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.ConnectionConfiguration.clickhouse" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">clickhouse</span>


<a href="#ankaflow.models.ConnectionConfiguration.clickhouse" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">clickhouse</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            ClickhouseConfig (ankaflow.models.ClickhouseConfig)" href="#ankaflow.models.ClickhouseConfig">ClickhouseConfig</a></span> <span class="o">=</span> <span class="n"><span title="pydantic.Field">Field</span></span><span class="p">(</span>
    <span class="n"><span title="pydantic.Field(default_factory)">default_factory</span></span><span class="o">=</span><span class="n"><a class="autorefs autorefs-internal" title="            ClickhouseConfig (ankaflow.models.ClickhouseConfig)" href="#ankaflow.models.ClickhouseConfig">ClickhouseConfig</a></span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>ClickHouse database configuration.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.ConnectionConfiguration.gs" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">gs</span>


<a href="#ankaflow.models.ConnectionConfiguration.gs" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">gs</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            GSConfig (ankaflow.models.GSConfig)" href="#ankaflow.models.GSConfig">GSConfig</a></span> <span class="o">=</span> <span class="n"><span title="pydantic.Field">Field</span></span><span class="p">(</span><span class="n"><span title="pydantic.Field(default_factory)">default_factory</span></span><span class="o">=</span><span class="n"><a class="autorefs autorefs-internal" title="            GSConfig (ankaflow.models.GSConfig)" href="#ankaflow.models.GSConfig">GSConfig</a></span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Google Cloud Storage configuration.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.ConnectionConfiguration.local" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">local</span>


<a href="#ankaflow.models.ConnectionConfiguration.local" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">local</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            BucketConfig (ankaflow.models.BucketConfig)" href="#ankaflow.models.BucketConfig">BucketConfig</a></span> <span class="o">=</span> <span class="n"><span title="pydantic.Field">Field</span></span><span class="p">(</span><span class="n"><span title="pydantic.Field(default_factory)">default_factory</span></span><span class="o">=</span><span class="n"><a class="autorefs autorefs-internal" title="            BucketConfig (ankaflow.models.BucketConfig)" href="#ankaflow.models.BucketConfig">BucketConfig</a></span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Local file system configuration.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.ConnectionConfiguration.s3" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">s3</span>


<a href="#ankaflow.models.ConnectionConfiguration.s3" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">s3</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            S3Config (ankaflow.models.S3Config)" href="#ankaflow.models.S3Config">S3Config</a></span> <span class="o">=</span> <span class="n"><span title="pydantic.Field">Field</span></span><span class="p">(</span><span class="n"><span title="pydantic.Field(default_factory)">default_factory</span></span><span class="o">=</span><span class="n"><a class="autorefs autorefs-internal" title="            S3Config (ankaflow.models.S3Config)" href="#ankaflow.models.S3Config">S3Config</a></span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>S3 cloud storage configuration.</p>

    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.ContentType" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">ContentType</span>


<a href="#ankaflow.models.ContentType" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="enum.Enum">Enum</span></code></p>


        










  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.CustomConnection" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">CustomConnection</span>


<a href="#ankaflow.models.CustomConnection" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Custom connection provider. Custom connection may implement
its own logic but must derive from base Connection class, and expose
tap(), sink(), sql() and show_schema() even if they are no-op.</p>










  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.CustomConnection.classname" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">classname</span>


<a href="#ankaflow.models.CustomConnection.classname" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">classname</span><span class="p">:</span> <span class="n"><span title="str">str</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Name of the class to load from the module</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.CustomConnection.module" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">module</span>


<a href="#ankaflow.models.CustomConnection.module" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">module</span><span class="p">:</span> <span class="n"><span title="str">str</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Python module where the connection class is defined</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.CustomConnection.params" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">params</span>


<a href="#ankaflow.models.CustomConnection.params" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">params</span><span class="p">:</span> <span class="n"><span title="dict">dict</span></span> <span class="o">=</span> <span class="n"><span title="pydantic.Field">Field</span></span><span class="p">(</span><span class="n"><span title="pydantic.Field(default_factory)">default_factory</span></span><span class="o">=</span><span class="n"><span title="dict">dict</span></span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Free-form configuration parameters passed to the loaded class</p>

    </div>

</div>



<div class="doc doc-object doc-function">


<h4 id="ankaflow.models.CustomConnection.load" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">load</span>


<a href="#ankaflow.models.CustomConnection.load" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">load</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Type">Type</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="            Connection (ankaflow.models.Connection)" href="#ankaflow.models.Connection">Connection</a></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Dynamically load the connection class from the given module and member.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Type">Type</span>[<a class="autorefs autorefs-internal" title="            Connection (ankaflow.models.Connection)" href="#ankaflow.models.Connection">Connection</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A subclass of Connection.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ImportError">ImportError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the module or member can't be imported.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.DataType" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">DataType</span>


<a href="#ankaflow.models.DataType" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="enum.Enum">Enum</span></code></p>


        










  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.DatabaseConfig" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">DatabaseConfig</span>


<a href="#ankaflow.models.DatabaseConfig" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Base class for SQL database connection configurations.</p>










  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.DatabaseConfig.cluster" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">cluster</span>


<a href="#ankaflow.models.DatabaseConfig.cluster" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">cluster</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Optional cluster name or identifier
(used in ClickHouse and other distributed systems).</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.DatabaseConfig.database" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">database</span>


<a href="#ankaflow.models.DatabaseConfig.database" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">database</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Database name.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.DatabaseConfig.host" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">host</span>


<a href="#ankaflow.models.DatabaseConfig.host" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">host</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Hostname or IP address of the database server.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.DatabaseConfig.password" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">password</span>


<a href="#ankaflow.models.DatabaseConfig.password" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">password</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Password for authentication.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.DatabaseConfig.port" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">port</span>


<a href="#ankaflow.models.DatabaseConfig.port" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">port</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="int">int</span></span> <span class="o">|</span> <span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Database port.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.DatabaseConfig.username" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">username</span>


<a href="#ankaflow.models.DatabaseConfig.username" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">username</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Username for authentication.</p>

    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.Datablock" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Datablock</span>


<a href="#ankaflow.models.Datablock" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>











  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Datablock.connection" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">connection</span>


<a href="#ankaflow.models.Datablock.connection" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">connection</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span>
    <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span>
        <span class="n"><a class="autorefs autorefs-internal" title="            Rest (ankaflow.models.Rest)" href="#ankaflow.models.Rest">Rest</a></span><span class="p">,</span>
        <span class="n"><a class="autorefs autorefs-internal" title="            Variable (ankaflow.models.Variable)" href="#ankaflow.models.Variable">Variable</a></span><span class="p">,</span>
        <span class="n"><a class="autorefs autorefs-internal" title="            BigQuery (ankaflow.models.BigQuery)" href="#ankaflow.models.BigQuery">BigQuery</a></span><span class="p">,</span>
        <span class="n"><a class="autorefs autorefs-internal" title="            Deltatable (ankaflow.models.Deltatable)" href="#ankaflow.models.Deltatable">Deltatable</a></span><span class="p">,</span>
        <span class="n"><a class="autorefs autorefs-internal" title="            Parquet (ankaflow.models.Parquet)" href="#ankaflow.models.Parquet">Parquet</a></span><span class="p">,</span>
        <span class="n"><a class="autorefs autorefs-internal" title="            Clickhouse (ankaflow.models.Clickhouse)" href="#ankaflow.models.Clickhouse">Clickhouse</a></span><span class="p">,</span>
        <span class="n"><a class="autorefs autorefs-internal" title="            CustomConnection (ankaflow.models.CustomConnection)" href="#ankaflow.models.CustomConnection">CustomConnection</a></span><span class="p">,</span>
        <span class="n"><a class="autorefs autorefs-internal" title="            JSON (ankaflow.models.JSON)" href="#ankaflow.models.JSON">JSON</a></span><span class="p">,</span>
        <span class="n"><a class="autorefs autorefs-internal" title="            CSV (ankaflow.models.CSV)" href="#ankaflow.models.CSV">CSV</a></span><span class="p">,</span>
        <span class="n"><a class="autorefs autorefs-internal" title="            File (ankaflow.models.File)" href="#ankaflow.models.File">File</a></span><span class="p">,</span>
        <span class="n"><a class="autorefs autorefs-internal" title="            Dimension (ankaflow.models.Dimension)" href="#ankaflow.models.Dimension">Dimension</a></span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">]</span> <span class="o">=</span> <span class="n"><span title="pydantic.Field">Field</span></span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n"><span title="pydantic.Field(discriminator)">discriminator</span></span><span class="o">=</span><span class="s2">&quot;kind&quot;</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Defines how the data is read from / written to the target.</p>
<p>Connection fields may contain templates and they will be
recursively.</p>
<p>Special construct is JSON&gt; which allows dynamically generating
parameters as runtime:</p>
<pre><code>- kind: source
  name: source_name
  connection:
    kind: File
    params: &gt;
      JSON&gt;{
        &quot;key&quot;: &quot;value&quot;,
        &quot;dynkey&quot;: &lt;&lt;API.property&gt;&gt;,
      }
</code></pre>
<p>In the above app <code>params</code> are constructed as JSON string.
It is possible to even construct parameter keys dynamically:</p>
<pre><code>params: &gt;
  JSON&gt;
  {
    &lt;% for number in [1,2,3] %&gt;
    &quot;key_&lt;&lt; number &gt;&gt;&quot;:&lt;&lt; number &gt;&gt;&lt;% if not loop.last %&gt;,&lt;% endif %&gt;
    &lt;% endfor %&gt;
  }
</code></pre>
<p>Above example results the following:</p>
<pre><code>params: &gt;
  {
    &quot;key_1&quot;: 1,
    &quot;key_2&quot;: 2,
    &quot;key_3&quot;: 3
  }
</code></pre>
<p>JSON&gt; structure cannot contain nested JSON&gt; structures, the entire
string following the JSON&gt; header must result a valid JSON.</p>
<p>Inbuilt connections include:</p>
<ul>
<li>Deltatable (read)</li>
</ul>
<p><strong>If connection is <code>Deltatable</code> then query is required to narrow
  down data stored in the delta table. <code>FROM</code> clause must be <code>Deltatable</code>:</strong>
  <code>- kind: source
    name: delta_tap
    connection:
      kind: Deltatable
      locator: delta_table
    query: &gt;
      select * from Deltatable</code></p>
<ul>
<li>Deltatable (write)</li>
</ul>
<p><em>See also StorageOptions</em></p>
<p>The following example writes data from preceding stage
  to delta table, appending the data, partitions using
  <code>part</code> column, and optimizes and vacuums immediately without
  retention after write.
  <code>- kind: sink
    name: delta_sink
    connection:
      kind: Deltatable
      locator: delta_table
      optimize: 0
      data_mode: append
      partition:
      - part_field</code></p>
<ul>
<li>Parquet (read/write)</li>
<li>JSON (read/write; NOTE: write operation generates newline-delimited JSON)</li>
<li>CSV (read/write)</li>
<li>
<p>Variable (read/write)</p>
</li>
<li>
<p>File (read)</p>
</li>
</ul>
<p>File can be read from a connected filesystem (including s3). File name
  and file type must be specified in the pipeline context:</p>
<pre><code>- `context.FileName`: file name relative to `file_prefix`
- `context.FileType`: file type, one of CSV, XLSX, JSON, HTML
</code></pre>
<p>Any file reader configuration must be passed in <code>params</code>.</p>
<ul>
<li>Rest (bidirectional)</li>
</ul>
<p>Rest connections consist of two parts: Client and Request. Client contains
  base URL and authentication (basic, digest, header and oauth2 are supported).</p>
<p><code>- name: TheRest
    kind: source
    connection:
      kind: Rest
      client:
        base_url: https://api.example.com
        auth:  # Every request to given endpoint share the same authentication
          method: basic
          values:
            username: TheName
            password: ThePassword
      request:
        endpoint: /v1/some-path
        content_type: application/json
        method: post
        query:  # Query parameters
          date: &lt;&lt;API.dt(None).isoformat()&gt;&gt;
        body:  # JSON payload
          param: 1
        response:
          content_type: application/json
          locator: "JMESPath.to.data"</code></p>
<p>Any custom source (API) can be used as long as available via module.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Datablock.context" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">context</span>


<a href="#ankaflow.models.Datablock.context" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">context</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="            FlowContext (ankaflow.models.FlowContext)" href="#ankaflow.models.FlowContext">FlowContext</a></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>@private
Global context passed to given stage</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Datablock.explain" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">explain</span>


<a href="#ankaflow.models.Datablock.explain" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">explain</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="bool">bool</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>If set to true then SQL query explanation will be logged.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Datablock.fields" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">fields</span>


<a href="#ankaflow.models.Datablock.fields" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">fields</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="            Field (ankaflow.models.Field)" href="#ankaflow.models.Field">Field</a></span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Explicitly defined output fields.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Datablock.kind" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">kind</span>


<a href="#ankaflow.models.Datablock.kind" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">kind</span><span class="p">:</span> <span class="n"><span title="str">str</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Defines which action will be performed:</p>
<ul>
<li>source</li>
<li>transform</li>
<li>sink</li>
<li>pipeline</li>
<li>sql</li>
</ul>
<h6 id="ankaflow.models.Datablock.kind--sink">Sink<a class="headerlink" href="#ankaflow.models.Datablock.kind--sink" title="Permanent link">&para;</a></h6>
<p>Sink reads output from previous stage and stores in specified
location.</p>
<p>NOTE: If query is supplied with the stage then sink uses output
of the query rather than preceding stage directly.
Subsequent sink will use preceding stage. If supplied query must
create either view or table with same name as current stage.</p>
<pre><code>- name: my_sink
kind: sink
connection:
    kind: Variable
query: &gt;
    CREATE VIEW my_sink AS
    SELECT
    1 as foo
</code></pre>
<h6 id="ankaflow.models.Datablock.kind--pipeline">Pipeline<a class="headerlink" href="#ankaflow.models.Datablock.kind--pipeline" title="Permanent link">&para;</a></h6>
<p>If pipeline is preceded by any stage then the subpipeline will be executed
as many times as there are rows in the previous stage output.
This is useful if you want to run same pipeline with different parameters.
Make sure the pipeline is preceded by source or transform producing
required number of rows. If you need to run subpipeline only once there
are two options:</p>
<ol>
<li>Place it to the top</li>
<li>Preced with tranform producing single row only</li>
</ol>
<p>Each row is then passed to subpipeline in a special variable.</p>
<p>Example pipeline iterating subpipeline 5 times:</p>
<ul>
<li>kind: transform
      name: generate_5
      # Generate 5 rows
      query: &gt;
          select unnest as current_variable from unnest(generate_series(1,5))
      show: 5</li>
<li>kind: pipeline
    name: looped_5x
    stages:
        - kind: transform
          name: inside_loop
          # In query we can reference the value passed from parent pipeline
          query: &gt;
              select 'Currently running iteration: {API.look('loop_control.current_variable', variables)}' as value
          show: 5</li>
</ul>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Datablock.locator" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">locator</span>


<a href="#ankaflow.models.Datablock.locator" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">locator</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Currently unused: Name for the connection configuration: name, or URI.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Datablock.log_level" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">log_level</span>


<a href="#ankaflow.models.Datablock.log_level" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">log_level</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="            LogLevel (ankaflow.models.LogLevel)" href="#ankaflow.models.LogLevel">LogLevel</a></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Set logging level. All stages after (including current) will log
with specified level. Possible values: INFO (default), DEBUG, WARNING.
Log level will be reset to INFO after each pipeline
(including nested pipelines).</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Datablock.name" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">name</span>


<a href="#ankaflow.models.Datablock.name" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">name</span><span class="p">:</span> <span class="n"><span title="str">str</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Name of the stage, must be unique across all stages in the pipeline
and conform to the rules: Must start with letter, may contain lowercase
letters, number and underscores.
Name is used to reference this stage by other subsequent stages.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Datablock.on_error" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">on_error</span>


<a href="#ankaflow.models.Datablock.on_error" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">on_error</span><span class="p">:</span> <span class="n"><span title="str">str</span></span> <span class="o">=</span> <span class="s1">&#39;fail&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>If set to 'continue' then pipeline will not fail.
Subsequent stages referring to failed one must handle
missing data.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Datablock.query" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">query</span>


<a href="#ankaflow.models.Datablock.query" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">query</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>SQL Query or dictionary with custom source parameters.
May contain {dynamic variables}.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Datablock.show" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">show</span>


<a href="#ankaflow.models.Datablock.show" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">show</span><span class="p">:</span> <span class="n"><span title="int">int</span></span> <span class="o">=</span> <span class="mi">0</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>If set to positive integer then given number of rows from
this stage will get logged. If set to -1 then all rows
will be loggged. Set to 0 to disable logging.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Datablock.show_schema" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">show_schema</span>


<a href="#ankaflow.models.Datablock.show_schema" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">show_schema</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="bool">bool</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>If True then schema is logged</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Datablock.skip_if" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">skip_if</span>


<a href="#ankaflow.models.Datablock.skip_if" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">skip_if</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="typing.Any">Any</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Any value that can evaluated using bool().
or template string e.g. <code>&lt;&lt; True &gt;&gt;</code>.
When the expression evaluates to True then the stage is skipped.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Datablock.stages" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">stages</span>


<a href="#ankaflow.models.Datablock.stages" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">stages</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="            Stages (ankaflow.models.Stages)" href="#ankaflow.models.Stages">Stages</a></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Used when kind is <code>Flow</code></p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Datablock.throttle" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">throttle</span>


<a href="#ankaflow.models.Datablock.throttle" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">throttle</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="int">int</span></span><span class="p">,</span> <span class="n"><span title="float">float</span></span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>If set to positive value then flow execution will be paused
after the stage for given number of seconds.</p>
<p>Useful when dealing with rate limits or otherwise spreading the load
over time.</p>

    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.Deltatable" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Deltatable</span>


<a href="#ankaflow.models.Deltatable" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            Connection (ankaflow.models.Connection)" href="#ankaflow.models.Connection">Connection</a></code></p>


        










  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.Dimension" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Dimension</span>


<a href="#ankaflow.models.Dimension" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>











  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ankaflow.models.Dimension.load" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">load</span>


<a href="#ankaflow.models.Dimension.load" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">load</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Type">Type</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="            Connection (ankaflow.models.Connection)" href="#ankaflow.models.Connection">Connection</a></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Dynamically load the connection class from the given module and member.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Type">Type</span>[<a class="autorefs autorefs-internal" title="            Connection (ankaflow.models.Connection)" href="#ankaflow.models.Connection">Connection</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A subclass of Connection.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ImportError">ImportError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the module or member can't be imported.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.Field" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Field</span>


<a href="#ankaflow.models.Field" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Data fields (equivalent to database field)</p>










  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Field.name" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">name</span>


<a href="#ankaflow.models.Field.name" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">name</span><span class="p">:</span> <span class="n"><span title="str">str</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Field name must follow rules set to SQL engine field names</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Field.type" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">type</span>


<a href="#ankaflow.models.Field.type" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nb">type</span><span class="p">:</span> <span class="n"><span title="str">str</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Any data type support by SQL engine</p>

    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.Fields" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Fields</span>


<a href="#ankaflow.models.Fields" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.RootModel">RootModel</span>[<span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="            Field (ankaflow.models.Field)" href="#ankaflow.models.Field">Field</a>]]</code></p>


        <p>Iterable list-like collection of Fields.</p>










  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.File" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">File</span>


<a href="#ankaflow.models.File" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            Connection (ankaflow.models.Connection)" href="#ankaflow.models.Connection">Connection</a></code></p>


        










  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.FlowContext" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">FlowContext</span>


<a href="#ankaflow.models.FlowContext" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="ankaflow.common.types.ImmutableMap">ImmutableMap</span></code></p>


        <p>Context dictionary can be used to supply arbitrary data
to pipeline that can be referenced in templates much
much like variables with the difference that they cannot
be modified at runtime.</p>
<p>Context can be initiated via dictionary:</p>
<p><code>context = FlowContext(**{'foo':'Bar'}])</code></p>
<p>Items can be reference using both bracket and dot notation:</p>
<p><code>context.foo == context['foo'] == 'Bar'</code></p>








    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.GSConfig" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">GSConfig</span>


<a href="#ankaflow.models.GSConfig" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            BucketConfig (ankaflow.models.BucketConfig)" href="#ankaflow.models.BucketConfig">BucketConfig</a></code></p>


        <p>Google Cloud Storage (GCS) configuration.</p>
<ul>
<li>HMAC credentials allow reading/writing Parquet, JSON, and CSV.</li>
<li>Delta table writes require a full service account credential file.</li>
</ul>










  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.GSConfig.credential_file" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">credential_file</span>


<a href="#ankaflow.models.GSConfig.credential_file" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">credential_file</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Path to GCP service account credential file (JSON).
Required for certain write operations (e.g., Delta tables).</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.GSConfig.hmac_key" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">hmac_key</span>


<a href="#ankaflow.models.GSConfig.hmac_key" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">hmac_key</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>GCS HMAC key ID for authenticated access.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.GSConfig.hmac_secret" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">hmac_secret</span>


<a href="#ankaflow.models.GSConfig.hmac_secret" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">hmac_secret</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>GCS HMAC secret for authenticated access.</p>

    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.JSON" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">JSON</span>


<a href="#ankaflow.models.JSON" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            Connection (ankaflow.models.Connection)" href="#ankaflow.models.Connection">Connection</a></code></p>


        










  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.LogLevel" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">LogLevel</span>


<a href="#ankaflow.models.LogLevel" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="enum.Enum">Enum</span></code></p>


        










  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.ModelType" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">ModelType</span>


<a href="#ankaflow.models.ModelType" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="enum.Enum">Enum</span></code></p>


        










  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.Paginator" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Paginator</span>


<a href="#ankaflow.models.Paginator" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>A response handler for paginated REST APIs.</p>
<p>This handler generates repeated requests by incrementing a
page-related parameter until no more data is available.
The stopping condition is usually inferred from the number
of records in the response being less than <code>page_size</code>, or
from a total record count field.</p>










  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Paginator.increment" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">increment</span>


<a href="#ankaflow.models.Paginator.increment" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">increment</span><span class="p">:</span> <span class="n"><span title="int">int</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Page parameter increment. Original request configuration
should include initial value e.g. <code>page_no=1</code></p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Paginator.kind" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">kind</span>


<a href="#ankaflow.models.Paginator.kind" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">kind</span><span class="p">:</span> <span class="n"><span title="typing.Literal">Literal</span></span><span class="p">[</span><span class="n"><span title="ankaflow.models.ResponseHandlerTypes.PAGINATOR">PAGINATOR</span></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Specifies the handler type as Paginator.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Paginator.page_param" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">page_param</span>


<a href="#ankaflow.models.Paginator.page_param" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">page_param</span><span class="p">:</span> <span class="n"><span title="str">str</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Page parameter in the request (query or body)
This will be incremented from request to request</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Paginator.page_size" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">page_size</span>


<a href="#ankaflow.models.Paginator.page_size" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">page_size</span><span class="p">:</span> <span class="n"><span title="int">int</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Page size should be explicitly defined. If response contains
less records it is considered to be last page</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Paginator.param_locator" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">param_locator</span>


<a href="#ankaflow.models.Paginator.param_locator" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">param_locator</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            ParameterDisposition (ankaflow.models.ParameterDisposition)" href="#ankaflow.models.ParameterDisposition">ParameterDisposition</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Define where the parameter is located: body or query</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Paginator.throttle" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">throttle</span>


<a href="#ankaflow.models.Paginator.throttle" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">throttle</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="int">int</span></span><span class="p">,</span> <span class="n"><span title="float">float</span></span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>If set to positive value then each page request is throttled
given number of seconds.</p>
<p>Useful when dealing with rate limits or otherwise spreading the load
over time.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Paginator.total_records" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">total_records</span>


<a href="#ankaflow.models.Paginator.total_records" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">total_records</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>JMESPath to total records count in the response.</p>

    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.ParameterDisposition" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">ParameterDisposition</span>


<a href="#ankaflow.models.ParameterDisposition" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="enum.Enum">Enum</span></code></p>


        










  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.Parquet" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Parquet</span>


<a href="#ankaflow.models.Parquet" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            Connection (ankaflow.models.Connection)" href="#ankaflow.models.Connection">Connection</a></code></p>


        










  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.Request" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Request</span>


<a href="#ankaflow.models.Request" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>











  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Request.body" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">body</span>


<a href="#ankaflow.models.Request.body" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">body</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><span title="typing.Dict">Dict</span></span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Request body parameters.</p>
<p>This field accepts either:
- A Python <code>dict</code> representing a direct key-value mapping, or
- A Jinja-templated JSON string with magic <code>@json</code> prefix, e.g.:
<code>@json{"parameter": "value"}</code></p>
<p>The template will be rendered using the following custom delimiters:
- <code>&lt;&lt; ... &gt;&gt;</code> for variable interpolation
- <code>&lt;% ... %&gt;</code> for logic/control flow (e.g., for-loops)
- <code>&lt;# ... #&gt;</code> for inline comments</p>
<p>The template will be rendered before being parsed into a valid JSON object.
This allows the use of dynamic expressions, filters, and control flow
such as loops.</p>
<h6 id="ankaflow.models.Request.body--example-with-looping">Example with looping<a class="headerlink" href="#ankaflow.models.Request.body--example-with-looping" title="Permanent link">&para;</a></h6>
<p>Given:</p>
<pre><code class="language-python">variables = {
    &quot;MyList&quot;: [
        {&quot;id&quot;: 1, &quot;value&quot;: 10},
        {&quot;id&quot;: 2, &quot;value&quot;: 20}
    ]
}
</code></pre>
<p>You can generate a dynamic body with:</p>
<pre><code>body: &gt;
@json[
    &lt;% for row in API.look(&quot;MyTable&quot;, variables) %&gt;
        { &quot;id&quot;: &lt;&lt; row.id &gt;&gt;, &quot;value&quot;: &lt;&lt; row.value &gt;&gt; }&lt;% if not loop.last %&gt;,&lt;% endif %&gt;
    &lt;% endfor %&gt;
]
</code></pre>
<p>This will render to a proper JSON list:</p>
<pre><code>[
    { &quot;id&quot;: 1, &quot;value&quot;: 10 },
    { &quot;id&quot;: 2, &quot;value&quot;: 20 }
]
</code></pre>
<p>Notes:
- When using @json, the entire string is rendered as a Jinja template
    and then parsed with json.loads().
- Nested @json blocks are not supported.
- Newlines and whitespace are automatically collapsed during rendering.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Request.content_type" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">content_type</span>


<a href="#ankaflow.models.Request.content_type" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">content_type</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            ContentType (ankaflow.models.ContentType)" href="#ankaflow.models.ContentType">ContentType</a></span> <span class="o">=</span> <span class="n"><span title="ankaflow.models.ContentType.JSON">JSON</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Request content type</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Request.endpoint" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">endpoint</span>


<a href="#ankaflow.models.Request.endpoint" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">endpoint</span><span class="p">:</span> <span class="n"><span title="str">str</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Request endpoint e.g. <code>get/data</code> under base url:</p>
<p>Example <code>https://api.example.com/v1</code> + <code>get/data</code></p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Request.errorhandler" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">errorhandler</span>


<a href="#ankaflow.models.Request.errorhandler" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">errorhandler</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            RestErrorHandler (ankaflow.models.RestErrorHandler)" href="#ankaflow.models.RestErrorHandler">RestErrorHandler</a></span> <span class="o">=</span> <span class="n"><span title="pydantic.Field">Field</span></span><span class="p">(</span>
    <span class="n"><span title="pydantic.Field(default_factory)">default_factory</span></span><span class="o">=</span><span class="n"><a class="autorefs autorefs-internal" title="            RestErrorHandler (ankaflow.models.RestErrorHandler)" href="#ankaflow.models.RestErrorHandler">RestErrorHandler</a></span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Custom error handler e.g. for searching conditions in response
or custom status codes</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Request.method" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">method</span>


<a href="#ankaflow.models.Request.method" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">method</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            RequestMethod (ankaflow.models.RequestMethod)" href="#ankaflow.models.RequestMethod">RequestMethod</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Request method e.g. <code>post,get,put</code></p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Request.query" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">query</span>


<a href="#ankaflow.models.Request.query" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">query</span><span class="p">:</span> <span class="n"><span title="typing.Dict">Dict</span></span> <span class="o">=</span> <span class="p">{}</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Query parameters. Parameters may contain template variables.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Request.response" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">response</span>


<a href="#ankaflow.models.Request.response" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">response</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            RestResponse (ankaflow.models.RestResponse)" href="#ankaflow.models.RestResponse">RestResponse</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Response handling configuration</p>

    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.RequestMethod" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">RequestMethod</span>


<a href="#ankaflow.models.RequestMethod" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="enum.Enum">Enum</span></code></p>


        










  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.ResponseHandlerTypes" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">ResponseHandlerTypes</span>


<a href="#ankaflow.models.ResponseHandlerTypes" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">


        










  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.Rest" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Rest</span>


<a href="#ankaflow.models.Rest" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Configuration for a REST-based data connection.</p>
<p>This model defines how to configure and execute REST API requests
as part of a pipeline step. It includes the request definition,
client behavior (e.g., retries, headers), and optional schema discovery.</p>










  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Rest.client" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">client</span>


<a href="#ankaflow.models.Rest.client" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">client</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            RestClientConfig (ankaflow.models.RestClientConfig)" href="#ankaflow.models.RestClientConfig">RestClientConfig</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Configuration for the REST client (e.g., base URL, headers, auth).</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Rest.fields" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">fields</span>


<a href="#ankaflow.models.Rest.fields" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">fields</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="            Field (ankaflow.models.Field)" href="#ankaflow.models.Field">Field</a></span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Optional schema definition used to validate or transform
response data.</p>
<p>It is recommended to manually specify the schema after initial
discovery. This ensures downstream pipeline stages remain stable,
even when the remote API returns no results (e.g., due to no updates
in an incremental fetch). Explicit schema prevents silent failures
or schema drift in such cases.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Rest.kind" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">kind</span>


<a href="#ankaflow.models.Rest.kind" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">kind</span><span class="p">:</span> <span class="n"><span title="typing.Literal">Literal</span></span><span class="p">[</span><span class="s1">&#39;Rest&#39;</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Specifies the connection type as "Rest".</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Rest.request" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">request</span>


<a href="#ankaflow.models.Rest.request" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">request</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            Request (ankaflow.models.Request)" href="#ankaflow.models.Request">Request</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Request template specifying method, path, body, etc.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.Rest.show_schema" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">show_schema</span>


<a href="#ankaflow.models.Rest.show_schema" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">show_schema</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="bool">bool</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>If True, the connector will attempt to infer
or display the response schema automatically.</p>

    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.RestAuth" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">RestAuth</span>


<a href="#ankaflow.models.RestAuth" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Authenctication configuration for Rest connection.</p>
<p>NOTE: Not all authentication methods may not work
in browser due to limitations in the network API.</p>










  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.RestAuth.method" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">method</span>


<a href="#ankaflow.models.RestAuth.method" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">method</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            AuthType (ankaflow.models.AuthType)" href="#ankaflow.models.AuthType">AuthType</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Specifies authentiation type.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.RestAuth.values" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">values</span>


<a href="#ankaflow.models.RestAuth.values" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">values</span><span class="p">:</span> <span class="n"><span title="ankaflow.common.types.StringDict">StringDict</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Mapping of parameter names and values.</p>
<p>{
    'X-Auth-Token': '<The Token>'
}</p>

    </div>

</div>



<div class="doc doc-object doc-function">


<h4 id="ankaflow.models.RestAuth.coerce_to_stringdict" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">coerce_to_stringdict</span>


<a href="#ankaflow.models.RestAuth.coerce_to_stringdict" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">coerce_to_stringdict</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Rest header values must be strings.
This convenience validator  automatically
converts regiular dictionary to StringDict.</p>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.RestClientConfig" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">RestClientConfig</span>


<a href="#ankaflow.models.RestClientConfig" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Rest client for given base URL.
Includes transport and authentication
configuration</p>










  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.RestClientConfig.base_url" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">base_url</span>


<a href="#ankaflow.models.RestClientConfig.base_url" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">base_url</span><span class="p">:</span> <span class="n"><span title="str">str</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Base URL, typically server or API root.
All endpoints with the same base URL share the
same authentication.</p>
<p>Example: <code>https://api.example.com/v1</code></p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.RestClientConfig.timeout" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">timeout</span>


<a href="#ankaflow.models.RestClientConfig.timeout" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">timeout</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="float">float</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Request timeout in seconds. Default is 5.
Set 0 to disable timout.</p>

    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.RestErrorHandler" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">RestErrorHandler</span>


<a href="#ankaflow.models.RestErrorHandler" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>











  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.RestErrorHandler.condition" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">condition</span>


<a href="#ankaflow.models.RestErrorHandler.condition" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">condition</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>JMESPath expression to look for in the response body.
Error will be generated if expression evaluates to True</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.RestErrorHandler.error_status_codes" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">error_status_codes</span>


<a href="#ankaflow.models.RestErrorHandler.error_status_codes" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">error_status_codes</span><span class="p">:</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="int">int</span></span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>List of HTTP status codes to be treated as errors.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.RestErrorHandler.message" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">message</span>


<a href="#ankaflow.models.RestErrorHandler.message" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">message</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>JMESPath expression to extract error message from respose.
If omitted entire response will be included in error.</p>

    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.RestResponse" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">RestResponse</span>


<a href="#ankaflow.models.RestResponse" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Response configuration. Response can be paged,
polled URL or in body.</p>










  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.RestResponse.content_type" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">content_type</span>


<a href="#ankaflow.models.RestResponse.content_type" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">content_type</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            DataType (ankaflow.models.DataType)" href="#ankaflow.models.DataType">DataType</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returned data type</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.RestResponse.locator" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">locator</span>


<a href="#ankaflow.models.RestResponse.locator" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">locator</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>JMESPath to read data from JSON body.
If not set then entire body is treated as data.</p>

    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.S3Config" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">S3Config</span>


<a href="#ankaflow.models.S3Config" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            BucketConfig (ankaflow.models.BucketConfig)" href="#ankaflow.models.BucketConfig">BucketConfig</a></code></p>


        <p>S3-specific bucket configuration including optional authentication.</p>










  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.S3Config.access_key_id" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">access_key_id</span>


<a href="#ankaflow.models.S3Config.access_key_id" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">access_key_id</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>AWS access key ID for private S3 access.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.S3Config.secret_access_key" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">secret_access_key</span>


<a href="#ankaflow.models.S3Config.secret_access_key" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">secret_access_key</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>AWS secret access key for private S3 access.</p>

    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.Stages" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Stages</span>


<a href="#ankaflow.models.Stages" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.RootModel">RootModel</span>[<span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="            Datablock (ankaflow.models.Datablock)" href="#ankaflow.models.Datablock">Datablock</a>]]</code></p>


        <p>A sequence of processing stages in a data pipeline.</p>
<p>Each <code>Datablock</code> in <code>root</code> represents one discrete step or transformation
in an end-to-end business workflow (e.g., tap, transform, sink, validate).</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="ankaflow.models.Stages.root">root</span></code></td>
            <td>
                  <code><span title="List">List</span>[<a class="autorefs autorefs-internal" title="            Datablock (ankaflow.models.Datablock)" href="#ankaflow.models.Datablock">Datablock</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Ordered list of pipeline stages to execute.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ankaflow.models.Stages.enumerate_steps" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">enumerate_steps</span>


<a href="#ankaflow.models.Stages.enumerate_steps" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">enumerate_steps</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Iterator">Iterator</span></span><span class="p">[</span><span class="n"><span title="tuple">tuple</span></span><span class="p">[</span><span class="n"><span title="int">int</span></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="            Datablock (ankaflow.models.Datablock)" href="#ankaflow.models.Datablock">Datablock</a></span><span class="p">]]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Yield each stage along with its 0-based position.</p>
<p>Use this when you need both the stage and its index for logging,
metrics, or conditional branching.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Iterator">Iterator</span>[<span title="tuple">tuple</span>[<span title="int">int</span>, <a class="autorefs autorefs-internal" title="            Datablock (ankaflow.models.Datablock)" href="#ankaflow.models.Datablock">Datablock</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Iterator[Tuple[int, Datablock]]: Pairs of (index, stage).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ankaflow.models.Stages.load" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">load</span>


<a href="#ankaflow.models.Stages.load" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">load</span><span class="p">(</span><span class="n">source</span><span class="p">:</span> <span class="n"><span title="typing.Union">Union</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">,</span> <span class="n"><span title="pathlib.Path">Path</span></span><span class="p">,</span> <span class="n"><span title="typing.IO">IO</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-internal" title="            Loadable (ankaflow.models.Loadable)" href="../ankaflow.models/#ankaflow.models.Loadable">Loadable</a></span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="            Stages (ankaflow.models.Stages)" href="#ankaflow.models.Stages">Stages</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Load a pipeline from YAML (path, YAML-string, file-like or Loadable).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>source</code>
            </td>
            <td>
                  <code><span title="str">str</span> | <span title="pathlib.Path">Path</span> | <span title="IO">IO</span>[<span title="str">str</span>] | <a class="autorefs autorefs-internal" title="            Loadable (ankaflow.models.Loadable)" href="../ankaflow.models/#ankaflow.models.Loadable">Loadable</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <ul>
<li>Path to a .yaml file</li>
<li>Raw YAML content</li>
<li>File-like object returning YAML</li>
<li>Any object with a <code>.load()</code> method returning Python data</li>
</ul>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Stages</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="            Stages (ankaflow.models.Stages)" href="#ankaflow.models.Stages">Stages</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a validated <code>Stages</code> instance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ankaflow.models.Stages.steps" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">steps</span>


<a href="#ankaflow.models.Stages.steps" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">steps</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Iterator">Iterator</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="            Datablock (ankaflow.models.Datablock)" href="#ankaflow.models.Datablock">Datablock</a></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Yield each stage in execution order.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Iterator">Iterator</span>[<a class="autorefs autorefs-internal" title="            Datablock (ankaflow.models.Datablock)" href="#ankaflow.models.Datablock">Datablock</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Iterator[Datablock]: An iterator over the stages,</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Iterator">Iterator</span>[<a class="autorefs autorefs-internal" title="            Datablock (ankaflow.models.Datablock)" href="#ankaflow.models.Datablock">Datablock</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>from first to last.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.StatePoller" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">StatePoller</span>


<a href="#ankaflow.models.StatePoller" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>A response handler for state-based polling APIs.</p>
<p>This handler is designed for asynchronous workflows where the
client repeatedly polls an endpoint until a certain state is reached
(e.g., job completion, resource readiness). Once the condition is met,
the pipeline continues by reading from the final data <code>locator</code>.</p>










  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.StatePoller.kind" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">kind</span>


<a href="#ankaflow.models.StatePoller.kind" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">kind</span><span class="p">:</span> <span class="n"><span title="typing.Literal">Literal</span></span><span class="p">[</span><span class="n"><span title="ankaflow.models.ResponseHandlerTypes.STATEPOLLING">STATEPOLLING</span></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Specifies the handler type as StatePolling.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.StatePoller.ready_status" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">ready_status</span>


<a href="#ankaflow.models.StatePoller.ready_status" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">ready_status</span><span class="p">:</span> <span class="n"><span title="str">str</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>JMESPath to read status from response. If the value at path
evaluates to True then no more requests are made, and
the API tries to read data from URL specified by <code>locator</code>.</p>

    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.URLPoller" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">URLPoller</span>


<a href="#ankaflow.models.URLPoller" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>URL Poller makes request(s) to remote API
until an URL is returned</p>










  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.URLPoller.kind" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">kind</span>


<a href="#ankaflow.models.URLPoller.kind" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">kind</span><span class="p">:</span> <span class="n"><span title="typing.Literal">Literal</span></span><span class="p">[</span><span class="n"><span title="ankaflow.models.ResponseHandlerTypes.URLPOLLING">URLPOLLING</span></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Specifies the handler type as URLPolling.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ankaflow.models.URLPoller.ready_status" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">ready_status</span>


<a href="#ankaflow.models.URLPoller.ready_status" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">ready_status</span><span class="p">:</span> <span class="n"><span title="typing.Optional">Optional</span></span><span class="p">[</span><span class="n"><span title="str">str</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>JMESPath to read status from response. If the value at path
evaluates to True then no more requests are made, and
the API tries to read data from URL specified by <code>locator</code>.</p>

    </div>

</div>





  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.Variable" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Variable</span>


<a href="#ankaflow.models.Variable" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            Connection (ankaflow.models.Connection)" href="#ankaflow.models.Connection">Connection</a></code></p>


        










  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ankaflow.models.Variables" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Variables</span>


<a href="#ankaflow.models.Variables" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="dict">dict</span></code></p>


        <p>Variables is a <code>dict</code>-based collection
storing arbitrary data under keys. Variable can be populated via:</p>
<ul>
<li>Dictionary passed to pipeline:
  <code>Flow(defs, context, variables={'foo': 'bar'})</code></li>
<li>Sink operation:<pre><code>- kind: sink

    name: my_sink

    connection:

        kind: Variable

        locator: variable_name
</code></pre>
</li>
</ul>
<p>This step will place a list of records from preceding step in
  variables as <code>{'variable_name': t.List[dict]}</code></p>
<p>In most cases sainking to variable is not needed as all preceding stages
in a pipeline can be referenced via <code>name</code>. Sinking to variable is
useful when you need to share data with subpipeline.</p>
<p>Special variable is <code>loop_control</code> which is populated
dynamically from previous step and current stage type is pipeline.
In case previous step generates multiple records then the new pipeline
is called for each record, and control variable holds a <code>dict</code>
representing the current record.</p>








    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="ankaflow.tests" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">tests</span>


<a href="#ankaflow.tests" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">









  <div class="doc doc-children">











  </div>

    </div>

</div>


  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>